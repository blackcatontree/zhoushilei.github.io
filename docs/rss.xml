<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>å‘¨ä»•ç£Šçš„åšå®¢</title><link>https://blackcatontree.github.io/zhoushilei.github.io</link><description>æ•´ç†è‡ªå·±ç¼–ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</description><copyright>å‘¨ä»•ç£Šçš„åšå®¢</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://avatars.githubusercontent.com/u/114755056?v=4</url><title>avatar</title><link>https://blackcatontree.github.io/zhoushilei.github.io</link></image><lastBuildDate>Thu, 30 Oct 2025 09:13:08 +0000</lastBuildDate><managingEditor>å‘¨ä»•ç£Šçš„åšå®¢</managingEditor><ttl>60</ttl><webMaster>å‘¨ä»•ç£Šçš„åšå®¢</webMaster><item><title>20251029 æ–°å¼€å‘æœºæ„å»º</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251029%20-xin-kai-fa-ji-gou-jian.html</link><description>vscode ç½‘é¡µç‰ˆæœ¬
```shell
conda create -n drugclip python=3.9 -y
conda install pytorch==2.0.0 torchvision==0.15.0 torchaudio==2.0.0 pytorch-cuda=11.8 -c pytorch -c nvidia -y
```
é…ç½®æ¸…åæº
```shell
conda config --remove-key channels
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/
conda config --set show_channel_urls yes
```
torch å®‰è£…
```shell
pip install torch==2.0.0+cu118 torchvision==0.15.0+cu118 torchaudio==2.0.0+cu118 -f https://download.pytorch.org/whl/torch_stable.html -i https://pypi.tuna.tsinghua.edu.cn/simple
pip install /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unicore-0.0.1+cu118torch2.0.0-cp39-cp39-linux_x86_64.whl
```
```shell
pip install /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unicore-0.0.1+cu118torch2.0.0-cp39-cp39-linux_x86_64.whl
pip install  rdkit
pip install numpy pandas
pip install scikit-learn -i https://pypi.tuna.tsinghua.edu.cn/simple
# åœ¨ drugclip ç¯å¢ƒä¸­å®‰è£…
pip install ipython -i https://pypi.tuna.tsinghua.edu.cn/simple
pip uninstall numpy -y
pip install numpy==1.24.3 -i https://pypi.tuna.tsinghua.edu.cn/simple
```
gitè®¾ç½®
å®‰è£…git graph æ’ä»¶ï¼Œ(user's class)[https://blog.csdn.net/weixin_55783373/article/details/119571301]

å·¦ä¸‹è§’ å±•ç¤ºgit graph
ç‚¹å‡»ä¸‹è½½æŒ‰é’® å¯ä»¥ä¸‹è½½æœ€æ–° çš„è¿œç¨‹åˆ†æ”¯æ•°æ®
å¯ä»¥åˆ›å»ºæ–°çš„åˆ†æ”¯
ä¸Šä¸€æ­¥çš„å‰ææ˜¯ä»£ç å·²ç»æäº¤äº†æˆ–è€…ç­¾å‡º
```shell
git config --global user.name zsl
git config --global user.email 'zhou1553731627@gmail.com'
#éªŒè¯æ˜¯å¦æ­£ç¡®
git config --list

```
```text
come from ğŸ‘ 
https://blog.csdn.net/weixin_55783373/article/details/119571301
```
ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251029%20-xin-kai-fa-ji-gou-jian.html</guid><pubDate>Wed, 29 Oct 2025 14:20:39 +0000</pubDate></item><item><title>20251029 drugclip</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251029%20drugclip.html</link><description>## ä¸€ã€ligandæ•°æ®åº“æ„å»º
### 1. é‡‡ç”¨äº†split_sdf è¿›è¡Œåˆ†å‰²å¤„ç†
### 2. æ•°æ®åº“åˆ†å­IDç´¢å¼•é—®é¢˜ï¼š
```python
# ... in getID function
for id_key in ['IDNUMBER','Catalog ID','ID']:
    try:
        return mol.GetProp(id_key)
    except:
        pass
raise ValueError('No ID found in molecule')
```
```python
def getID(mol):
    # æœ€ç»ˆçš„ ID é”®æœç´¢åˆ—è¡¨ï¼ŒCatalog_ID æ˜¯æœ€é«˜ä¼˜å…ˆçº§
    for id_key in ['Catalog_ID', 'ZID', 'Compound_ID', 'ENAMINE_ID', 'IDNUMBER', 'Catalog ID', 'ID', 'NSC']: 
        try:
            # æ‰¾åˆ°æ­£ç¡®çš„ ID é”®å¹¶è¿”å›
            return mol.GetProp(id_key)
        except:
            pass
    
    # å¦‚æœæ‰€æœ‰é”®éƒ½å¤±è´¥ï¼Œåˆ™æŠ›å‡ºé”™è¯¯
    raise ValueError('No ID found in molecule')
```
### 3.ç‰¹æ®Šçš„åŸå­è¿›è¡ŒUFF åŠ›åœºçš„MMFFä¼˜åŒ–æ—¶å¤±è´¥
```text
Se2+2 (4)ã€Pt+2 (1)ã€Ca+2 (0)ã€ S_6+6 (12)ã€Re5 (2)ã€Fe2+2 (0)ã€ Ce+3 (0)
```
ä¸»å¾ªç¯ä¼šåœ¨å†™å…¥ LMDB ä¹‹å‰ï¼Œè‡ªåŠ¨è¿‡æ»¤æ‰æ‰€æœ‰è¿”å› None çš„åˆ†å­ï¼ˆå³è·³è¿‡è¿™äº›æ— æ³•å¤„ç†çš„åˆ†å­ï¼‰
## äºŒã€åŠ è½½æƒé‡è¿›è¡Œç¼–ç 
### 1. ç½‘ç›˜ä¸‹è½½ptæƒé‡
### 2. unicore æ˜¯è‡ªå·±å®šä¹‰çš„ï¼Œæ‰¾ä¸åˆ°
[unicore](https://github.com/dptech-corp/Uni-Core)
```shell
git clone https://github.com/dptech-corp/Uni-Core.git
# æˆ–è€…ç›´æ¥ä¸‹è½½åˆ°æœ¬åœ°ç„¶åä¸Šä¼ ï¼Œä¸Šä¼ åè§£å‹
cd /home/dataset-assist-0/tmp/zsl/AIDD/
unzip main.zip
cd Uni-Core-main 
pip install -e ./ # 3. å®‰è£… unicore åº“ï¼ˆåœ¨ pytorch2.5.1 ç¯å¢ƒä¸­ï¼‰
```
### 3. positive_ligand æ•°æ®ID ç›´æ¥ç”¨åˆ†å­å¼

### 4. ç›´æ¥è°ƒç”¨å¼€å§‹åšrank
#DrugCLIP éªŒè¯è„šæœ¬åˆ†æ

#### è„šæœ¬ç®€ä»‹
`run_vs_validation.py` æ˜¯ç‹¬ç«‹è„šæœ¬ï¼Œç”¨äºéªŒè¯ `DrugCLIP` æ¨¡å‹åœ¨ä¸åŒè§„æ¨¡ï¼ˆ1Mã€2Mã€4Mï¼‰è¯±é¥µåº“ä¸Šçš„è™šæ‹Ÿç­›é€‰ä»»åŠ¡ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251029%20drugclip.html</guid><pubDate>Tue, 28 Oct 2025 19:01:50 +0000</pubDate></item><item><title>20251029 é‚“å²³ï¼šé™¢é•¿æœ‰çº¦</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251029%20-deng-yue-%EF%BC%9A-yuan-chang-you-yue.html</link><description>## åšå£«çš„ä¸‰ä¸ªé˜¶æ®µ
1. æ²¡æœ‰æ€è·¯ï¼šå¿«é€Ÿçš„rushæ–‡ç« ï¼Œç„¶åæ‡‚è¿™ä¸ªæ–¹å‘åº”è¯¥æ€ä¹ˆåš
2. æœ‰å¾ˆå¤šæ€è·¯ï¼Œå¹¶ä¸”å¤§æ¦‚ç‡éƒ½å¯è¡Œï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦è‡ªå·±æ²‰æ·€ä¸€ä¸‹ï¼Œæ€è€ƒåº”è¯¥åšä»€ä¹ˆæ ·å­çš„æ–‡ç« 
3. æœ‰è‡ªå·±çš„ç§‘ç ”å“å‘³

## å¤šè¯»ä¸€äº›ç»å…¸æ–‡çŒ®ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251029%20-deng-yue-%EF%BC%9A-yuan-chang-you-yue.html</guid><pubDate>Tue, 28 Oct 2025 18:18:49 +0000</pubDate></item><item><title>20251028 å¦‚ä½•åœ¨å¼€å‘æœºä¸­ä½¿ç”¨jupyter notebook</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251028%20-ru-he-zai-kai-fa-ji-zhong-shi-yong-jupyter%20notebook.html</link><description>```shell
conda activate my_env
conda install ipykernel
python -m ipykernel install --user --name=pytorch2.5.1 --display-name pytorch251
```ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251028%20-ru-he-zai-kai-fa-ji-zhong-shi-yong-jupyter%20notebook.html</guid><pubDate>Tue, 28 Oct 2025 13:12:18 +0000</pubDate></item><item><title>20251028 å¦‚ä½•å¿«é€Ÿæ„å»ºä¸€ä¸ªç¯å¢ƒç”¨äºbaselineçš„æ„å»º</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251028%20-ru-he-kuai-su-gou-jian-yi-ge-huan-jing-yong-yu-baseline-de-gou-jian.html</link><description>1. å®‰è£…git
```shell
sudo apt update
sudo apt install git
```
2.gitå…‹éš†é¡¹ç›®
```shell
git clone https://github.com/bowen-gao/DrugCLIP.git
```
ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251028%20-ru-he-kuai-su-gou-jian-yi-ge-huan-jing-yong-yu-baseline-de-gou-jian.html</guid><pubDate>Tue, 28 Oct 2025 11:36:13 +0000</pubDate></item><item><title>20251028 ssh é…ç½®vscodeæœ¬åœ°ä¿®æ”¹jupyterçš„å¼€å‘æœº</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251028%20ssh%20-pei-zhi-vscode-ben-di-xiu-gai-jupyter-de-kai-fa-ji.html</link><description>## æ–‡ä»¶åŒæ­¥ï¼Œå¯ä»¥ç›´æ¥ç¼–å†™ 
1.vscodeå®‰è£…sshæ’ä»¶ remote-SSH

 ```shell
ssh # æ£€æŸ¥æ˜¯å¦å®‰è£…äº†ssh

```
2.å¼€å‘æœºåˆ›å»ºssh
å¼€å‘æœºåˆ›å»ºssh ï¼Œåç§°éšä¾¿å¡«å†™
ç™¾åº¦æ£€ç´¢ipå°†ipåœ°å€è®¾ç½®ä¸ºç™½åå•ï¼Œåé¢åŠ ä¸Š/24ä½œä¸ºæ©ç 
3. vscodeåˆ›å»ºå¯†é’¥å¯¹
åœ¨cmdä¸­è¾“å…¥

```
ssh-keygen
```
å‡ºç°ç»“æœï¼š

```
Generating public/private ed25519 key pair.
Enter file in which to save the key (C:\Users\Administrator/.ssh/id_ed25519):
```

4..è¿›å…¥è¿™ä¸ªæ–‡ä»¶ed25519.pub æ–‡ä»¶ä¸­

```
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJ7VQofGtnZi5ZJl9wF0Mx7p8Kms4WrYN0+8ttlCrCox administrator@DESKTOP-SL4G7T4
```
 
5. vscodeé‡Œé¢è¿›è¡Œé…ç½®

```
#~/.ssh/config
Host Ai-train-01
    HostName 106.63.100.63
    User batchcom
    Port 30060
    IdentityFile ~/.ssh/id_ed25519
```

6.ç›´æ¥ç‚¹å‡»vscodeä¸‹é¢çš„ sshå°±å¯ä»¥è¿æ¥äº†
+ linux
+ yes

## ç›´æ¥è¿è¡Œè°ƒç”¨ï¼Œå¼¥è¡¥å¼€å‘æœºæ— æ³•ç›´æ¥è¿è¡Œç¼ºç‚¹
1.ç‚¹å‡»Fileâ€”&gt;Preferencesâ€”&gt;Settingsï¼Œæœç´¢Show Login Terminalï¼Œå¹¶å‹¾é€‰Always reveal the SSH login terminal
2. è¿è¡Œå‘½ä»¤
ç›´æ¥ç‚¹å‡»ä¸Šæ–¹çš„ è¿è¡Œ æŒ‰é’®è¿è¡Œ
```shell
Ctrl+Shift+P (Windows/Linux) æˆ– Cmd+Shift+P (Mac)
Python: Select Interpreter
```
cdåˆ°å‘½ä»¤è¡Œé‡‡ç”¨ä¸‹é¢çš„æ–¹å¼è¿è¡Œ

```shell
python demo.py
```

## è¿è¡Œjupyter notebook æ–‡ä»¶
åœ¨vscodeé‡Œé¢çš„terminalé‡Œé¢è¿›è¡Œä¸‹é¢çš„æ“ä½œ

```shell
conda activate python2.5.1
pip install jupyter
conda install ipykernel
python -m ipykernel install --user --name python2.5.1 --display-name 'python251'

```
ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251028%20ssh%20-pei-zhi-vscode-ben-di-xiu-gai-jupyter-de-kai-fa-ji.html</guid><pubDate>Tue, 28 Oct 2025 07:36:28 +0000</pubDate></item><item><title>20251025 bash æ–‡ä»¶çš„æ„å»º</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251025%20bash%20-wen-jian-de-gou-jian.html</link><description>## åŸºç¡€æ“ä½œ
```shell
# å¼ºåˆ¶æ¸…é™¤æ–‡ä»¶
rm -f name.txt # å¼ºåˆ¶æ¸…é™¤æ–‡ä»¶
# æ–‡æœ¬æ£€ç´¢
ligand_charge=$(grep $pdbid /home/zsl/ligand.txt | awk '{print $2}') #|å‰æ£€ç´¢å‡ºçš„è¡Œï¼Œ|åè¾“å‡ºç¬¬äºŒåˆ—

# æ‰¹å¤„ç†æ“ä½œ
cat batch.txt | parallel --env _ --joblog 02.log --retries 3 --jobs 16 process_pdbid {} #æ‰¹å¤„ç†æ“ä½œï¼ˆbase txt æ–‡æ¡£ï¼‰
find '/home/tmp/zsl/data' -maxdepth 1 -type d -name 'GID*' | sort | while read dir; do
   pdbid=$(basename'$dir')
   echo '$pdbid'
done | parallel --joblog 02.log --retries 3 --jobs 16 01_ligand_process{} # æ‰¹å¤„ç†æ“ä½œï¼ˆbase findæ–‡ä»¶å¤¹åç§°æ£€ç´¢ï¼‰

# è°ƒç”¨bashæ–‡ä»¶
cd /home/test
chmod +x 02_protein_process.sh #å¢åŠ æƒé™
./02_protein_process.sh #ç›´æ¥è¿è¡Œ
```
## IFè¯­å¥
``` shell
if [[ $? -eq 0]]; then
    gmx editconf -f ${pdbid}_protein.gro -o ${pdbid}_protein_H.pdb -nobackup &gt; /dev/null 2&gt;&amp;1 #gro è½¬åŒ–ä¸ºpdbæ–‡ä»¶ï¼Œç°åœ¨å·²ç»å»æ‰äº†H
    python $base_directory/02_protein_process/0202_addchain.py\
        --pdbfile ${pdbid}_protein_H.pdb \
        --pdbid $pdbid\
        --outdir $outdir #ç»“æŸä¸éœ€è¦åæ–œæ 
else
    echo '${pdbid} pdb2gmx failed. Check pdb2gmx.out for details.'
    echo ${pdbid} &gt;&gt; $base_directory/02_protein_process/nonstandard_residue.txt
fi   
``` 
## function defination
```shell
02_protein_process() {
    # defination
    base_directory=$(pwd)#å½“å‰æ–‡ä»¶å¤¹
    local pdbfile='${base_directory}/data/$pdbid/protein/${pdbid}_protein_0_fixed.pdb'
    
    # action
    mkdir -p $outdir
    cd $outdir
    
    # python
    python $base_directory/0201_dump_protein.py\
        --pdbfile $pdbfile\
        --ligandfile $ligandfile\
        --pdbid $pdbid\
        --outdir $outdir
}
# function è°ƒç”¨
export -f 02_protein_process #å°†å‡½æ•°å¯¼å…¥åˆ°shellç¯å¢ƒä¸­
```
ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251025%20bash%20-wen-jian-de-gou-jian.html</guid><pubDate>Fri, 24 Oct 2025 19:16:47 +0000</pubDate></item><item><title>ç‰¹å¼‚æ€§é¶ç‚¹å°åˆ†å­è¯ç‰©ç­›é€‰</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/te-yi-xing-ba-dian-xiao-fen-zi-yao-wu-shai-xuan.html</link><description>## è›‹ç™½è´¨å£è¢‹åˆ’åˆ†
é€‰å–å£è¢‹éƒ¨åˆ†ï¼Œ6A ,8A ,
çƒå½¢/æ­£æ–¹å½¢
ps. ä¸€å®šæŒ‰ç…§æ–‡çŒ®ä¸­çš„æ•°æ®è¿›è¡Œ

## ä»æ•°æ®åº“ä¸­ä¸‹è½½mol2
400millions çš„è¯ç‰©åˆ†å­å»å’Œè›‹ç™½è´¨å£è¢‹è¿›è¡Œä½œç”¨

## ç­›é€‰å‡ºTOP1Kçš„æ•°æ®
DrugClip ä¸€ç§åŸºäºå¯¹æ¯”å­¦ä¹ çš„è›‹ç™½è´¨-åˆ†å­è¡¨ç¤ºå­¦ä¹ æ¡†æ¶ï¼Œå°†è™šæ‹Ÿç­›é€‰é‡æ„ä¸ºå¯†é›†æ£€ç´¢ä»»åŠ¡ï¼Œé€šè¿‡åŒç¼–ç å™¨ï¼Œ
1. unimolçš„3d transformer å­¦ä¹ è›‹ç™½è´¨å£è¢‹äºåˆ†å­çš„è¡¨ç¤ºï¼›
2. HomoAugç”Ÿç‰©æ•°æ®å¢å¼ºï¼ˆåˆ©ç”¨åŒæºè›‹ç™½è´¨ç”Ÿæˆæ–°è®­ç»ƒå¯¹ï¼‰å’Œrdkitæ„è±¡æ¨¡æ‹Ÿå¤„ç†è®­ç»ƒ-æµ‹è¯•ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œåœ¨
ç»“æœï¼š
1. dud-e å’Œlit-pcbaåŸºå‡†æµ‹è¯•ä¸­ï¼Œé›¶æ ·æœ¬è®¾ç½®ä¸‹æ˜¾è‘—ä¼˜äºGlide-sp vinaç­‰ä¼ ç»Ÿå¯¹æ¥æ–¹æ³•

## æŸ¥çœ‹TOP100/20/50é‡Œé¢æœ‰æ²¡æœ‰æˆ‘ä»¬çš„é˜³æ€§åˆ†å­
æˆ‘ä»¬æœ‰posé˜³æ€§çš„åˆ†å­ ä¹Ÿæœ‰negé˜´æ€§çš„åˆ†å­


æ³¨æ„ï¼š
1. æˆ‘ä»¬ç‰¹å¾æå–æ—¶å¯ä»¥å°†æ•°æ®æå–å‡ºæ¥ä¹‹åç›´æ¥è¿›è¡Œï¼Œä¸éœ€è¦é‡å¤è¿›è¡Œè®¡ç®—
2. å¤§è§„æ¨¡çš„ç‰¹å¾æå–ï¼Œå¯ä»¥é‡‡ç”¨faceholkçš„æ–¹å¼è¿›è¡Œã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/te-yi-xing-ba-dian-xiao-fen-zi-yao-wu-shai-xuan.html</guid><pubDate>Fri, 24 Oct 2025 05:31:15 +0000</pubDate></item><item><title>pythonåŸºç¡€æ“ä½œ</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/python-ji-chu-cao-zuo.html</link><description>##  linux ä¸‹ python ç‰ˆæœ¬å’Œä½ç½®æŸ¥çœ‹
- which python #æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ‰é‚£äº›python
- ls /usr/bin/python* # åˆ—å‡ºæ‰€æœ‰çš„pythonæ–‡ä»¶
- ls /usr/bin/python* # ç³»ç»Ÿpythonç‰ˆæœ¬æŸ¥çœ‹
- conda --version # æŸ¥çœ‹condaçš„å®‰è£…ç‰ˆæœ¬
- conda info # conda çš„ä¿¡æ¯
- conda env list # åˆ—å‡ºcondaçš„æ‰€æœ‰env
- conda list python # æŸ¥çœ‹å½“å‰çš„pythonç‰ˆæœ¬
- conda create -n aidd310 python=3.10

## linux ä¸‹condaåˆ›å»ºæ–°çš„ç¯å¢ƒ
- ls -la /home/ # æ£€æŸ¥ç”¨æˆ·ä¸»ç›®å½•çš„æƒé™
- conda create -p ./conda_envs/aidd310 python=3.10 # å½“å‰æ–‡ä»¶å¤¹åˆ›å»ºconda_envs å­˜å‚¨ä¸€ä¸ªaidd310 çš„envåç§°ï¼ŒæŒ‡å®špythonç‰ˆæœ¬æ˜¯310
- conda activate ./conda_envs/aidd310 # æ¿€æ´»aidd310
```shell
mkdir /home/dataset-assist-0/conda-env
mkdir /home/dataset-assist-0/conda-pkg
conda config --add envs_dirs /home/dataset-assist-0/conda-env/
conda config --add pkgs_dirs /home/dataset-assist-0/conda-pkg/
conda create -n myenv python=3.11
``` 
- conda deactivate # é€€å‡ºå½“å‰ç¯å¢ƒ
- rm -rf /home/dataset-assist-0/tmp/zsl/conda_envs/aidd310 æ–‡ä»¶å¤¹ä¸­çš„ç¯å¢ƒ
- conda create -p /home/dataset-assist-0/tmp/zsl/conda_envs/aidd310 python=3.10 -y é‡æ–°å®‰è£…ç¯å¢ƒ
- python --version # æŸ¥çœ‹å½“å‰pythonç¯å¢ƒ

## windows ä¸Šçš„pkgæ‰“åŒ…åˆ°linux
windowsä¸Šå¯¼å‡ºpkg
- è„çš„æ–¹å¼ï¼šconda env export &gt; environment.yml
- å¹²å‡€çš„æ–¹å¼: conda env export --no-builds &gt; environment.yml
linux ä¸Šå®‰è£…pkg
- conda activate aidd310 # æ¿€æ´»æ–°çš„ç¯å¢ƒ
- conda activate /home/dataset-assist-0/tmp/zsl/conda_envs/aidd310

```shell
# æ·»åŠ æ¸…åé•œåƒ
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --set show_channel_urls yes

# ç„¶åé‡æ–°å®‰è£…
conda install numpy=1.26.4 scipy pandas matplotlib -y
``` 
- pip install numpy==1.26.4 pandas matplotlib scipy
- pip install openbabel-wheel
- pip install pybel
- pip install rdkit==2025.9.1
- 
ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/python-ji-chu-cao-zuo.html</guid><pubDate>Fri, 24 Oct 2025 03:49:14 +0000</pubDate></item><item><title>windowså‘½ä»¤è¡Œçš„æ“ä½œæ–¹æ³•</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/windows-ming-ling-xing-de-cao-zuo-fang-fa.html</link><description> Get-ChildItem -Directory | Select-Object Name | Out-File -FilePath folder_list.txt -Encoding UTF8 
å°†å½“å‰æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶å¤¹çš„åå­—å¤åˆ¶åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”å°†å…¶æ”¾ç½®åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ ç¼–ç æ–¹å¼é‡‡ç”¨UTF8çš„æ–¹å¼ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/windows-ming-ling-xing-de-cao-zuo-fang-fa.html</guid><pubDate>Wed, 22 Oct 2025 15:39:22 +0000</pubDate></item><item><title>20251019 é€‰å¯¼å¸ˆ</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251019%20-xuan-dao-shi.html</link><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251019%20-xuan-dao-shi.html</guid><pubDate>Sun, 19 Oct 2025 09:54:42 +0000</pubDate></item><item><title>20251018 è›‹ç™½è´¨é…ä½“ç›¸äº’ä½œç”¨DFTè®¡ç®—éƒ¨åˆ†</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251018%20-dan-bai-zhi-pei-ti-xiang-hu-zuo-yong-DFT-ji-suan-bu-fen.html</link><description>## å‰æœŸå‡†å¤‡
1.gromacså®‰è£…

```shell
conda activate aidd310
sudo apt-get update #æ›´æ–°
sudo apt-get install gromacs #å®‰è£…
```
2.xtbè®¡ç®—è½¯ä»¶å®‰è£…
```shell
conda install xtb -c conda-forge
```
å®‰è£…å®Œæˆä¹‹å
```shell
xtb --version
```

å®Œæˆä¹‹åæ˜¾ç¤º
```
Executing transaction: done                                                                                                                                                                                                             
(/home/dataset-assist-0/tmp/zsl/conda_envs/aidd310) batchcom@dev-env-n651q-ee82f9:/home/dataset-assist-0/tmp/zsl/6-test/data_change/gfnff/jobs/GID110022$ xtb --version
      -----------------------------------------------------------                                                                                                                                                                       
     |                   =====================                   |                                                                                                                                                                      
     |                           x T B                           |                                                                                                                                                                      
     |                   =====================                   |     
     |                         S. Grimme                         |     
     |          Mulliken Center for Theoretical Chemistry        |     
     |                    University of Bonn                     |     
      -----------------------------------------------------------      

   * xtb version 6.7.1 (edcfbbe) compiled by 'conda@c0858423619e' on 2025-09-04

normal termination of xtb
```

## æ–‡ä»¶åˆ—è¡¨
- 01_process_mo2 : è¯»å…¥é…ä½“çš„æ•°æ®ï¼Œé€šè¿‡mol2è¿›è¡Œç”µè·åˆç†/ä¸åˆç†çš„ç­›é€‰ï¼Œç­›é€‰å‡ºæ¥çš„æ–‡ä»¶ä¿å­˜åœ¨logfileä¸­ï¼Œä¸åˆç†çš„ä¿å­˜åœ¨wrongä¸­
- 02_addchian: è¯»å…¥è›‹ç™½è´¨ï¼Œè®¡ç®—æ®‹åŸºçš„ç”µè·ï¼Œå¹¶å¯¹é“¾è¿›è¡Œæ ‡è¯†ç¬¦çš„é‡æ–°åˆ†é…
- 02_dump_protein:ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251018%20-dan-bai-zhi-pei-ti-xiang-hu-zuo-yong-DFT-ji-suan-bu-fen.html</guid><pubDate>Sat, 18 Oct 2025 11:24:40 +0000</pubDate></item><item><title>Linux åŸºç¡€æ“ä½œ</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/Linux%20-ji-chu-cao-zuo.html</link><description># Linux åŸºç¡€æ“ä½œ
##  è¿›å…¥å‘½ä»¤
- cd +Tab è‡ªåŠ¨è¡¥å…¨
- cd åé€€åˆ°home
- cd .. åé€€ä¸€æ ¼
- cd ../ åé€€ä¸¤æ ¼
- cd / åé€€åˆ°æ ¹ç›®å½•
- pwd å½“å‰æ‰€å¤„æ–‡ä»¶çš„ç»å¯¹è·¯å¾„

## å±•ç¤ºå‘½ä»¤
- ls å…¨éƒ¨ç½—åˆ—
- ls |head åˆ—å‡ºéƒ¨åˆ†æ•°æ®
- ls |head -n 100 åˆ—å‡º100æ¡æ•°æ®
- ls |wc -l åˆ—å‡ºæ–‡ä»¶å¤¹ä¸­ä¸€å…±æœ‰å¤šå°‘ä¸ªæ–‡ä»¶
- head -n1 .chag æ˜¾ç¤º.chagçš„ç¬¬ä¸€è¡Œæ•°æ®

## ç®€å•è®¡ç®—
- total_charge=$(echo '$protein_charge+$ligand_charge'|bc) è¡¨ç¤ºæµ®ç‚¹æ•°è¿ç®—ï¼Œbcå¯ä»¥ç”¨æ¥å¤„ç†æµ®ç‚¹æ•°
- sed å¯ä»¥å¯¹æ–‡æœ¬è¿›è¡ŒæŸ¥æ‰¾ã€æ›¿æ¢ã€åˆ é™¤
- sed -i '1s/.*/$total_charge/' .chrg åœ¨ç¬¬ä¸€è¡Œè¿›è¡Œæ“ä½œ ï¼Œ.*è¡¨ç¤ºåŒ¹é…æ•´è¡Œ $total_charge æ›¿æ¢ä¸ºæ€»ç”µè·å€¼ï¼Œ.chrgè¡¨ç¤ºåº”ç”¨åœ¨è¿™ä¸ªæ–‡ä»¶ä¸Š
- æ³¨æ„å¦‚æœtotal_charge æ˜¯ -1 ä¼šæŠ¥é”™
- å¯ä»¥æ›´æ¢ä¸ºå…¶ä»–åˆ†å‰²ç¬¦ sed -i '1s#.*#$total_charge# .CHRG'
```shell
    sed -i '1s#.*#$total_charge#' .CHRG # å¯¹ç¬¬ä¸€è¡Œè¿›è¡Œæ•´ä½“æ›¿ä»£
    sed -i '$s#$#$ligand_charge#' .CHRG # $åŒ¹é…æ¨¡å¼æ˜¯è¡Œå°¾
```

## æ–‡ä»¶æ“ä½œ
- pwd è¾“å‡ºå½“å‰çš„æ–‡ä»¶å¤¹è·¯å¾„
- cp A B å°†A çš„æ–‡ä»¶å¤åˆ¶åˆ°B ä¸­
- cp A/* B å¤åˆ¶A ä¸­çš„æ‰€æœ‰æ–‡ä»¶åˆ°A ä¸­
- rm -rf data åˆ é™¤æ–‡ä»¶
### è§£å‹æ–‡ä»¶
1. tar
```shell
- tar -xzvf name.tar.gz|head-100  è§£å‹å‡ºæ¥ï¼Œçœ‹çœ‹100ä¸ª
- tar -xzvf name.tar.gz ç›´æ¥è§£å‹
```
2.7zip
```shell 
- sudo apt update
- sudo apt install p7zip-full #7zå®‰è£…
- 7z x 01_ligand_process.7z # è§£å‹7zæ–‡ä»¶
- 7z x 01_ligand_process.7z -o/path/to/destination # è§£å‹åˆ°æŒ‡å®šç›®å½•
- 7z l 01_ligand_process.7z # åˆ—å‡ºå‹ç¼©åŒ…çš„å†…å®¹
- 7z t 01_ligand_process.7z # æµ‹è¯•å‹ç¼©åŒ…çš„å®Œæ•´æ€§
```
3.zip
```shell 
- zip -r data5k.zip /database å°†databaseæ–‡ä»¶å¤¹å‹ç¼©åˆ°data5k.zip
- unzip name.zip
- unzip data.zip -d /home/user/extracted/ #è§£å‹åˆ°æŒ‡å®šç›®å½•
- unzip -l archive.zip #æŸ¥çœ‹å‹ç¼©åŒ…çš„å†…å®¹
```

- ls | head -100 | xargs -I {} cp {} /home/user/destination/ å¤åˆ¶100ä¸ªåˆ°xargsç®¡é“ä¸­ï¼Œå¹¶åˆ°æ–‡ä»¶å¤¹ ï¼ˆå¤åˆ¶æ–‡ä»¶ï¼‰
- ls | head -5000 | xargs -I {} cp -r '{}' /home/dataset-assist-0/tmp/zsl/0-database ç›´æ¥å¤åˆ¶æ–‡ä»¶å¤¹ éœ€è¦-r

 - ls |head -1000|xargs -I {} cp {} /home/dataset-assist-0/tmp/zsl/GatorAffinity-DB/GatorAffinity-DB-Fixed


## æŸ¥çœ‹å‘½ä»¤
- df -h /home/dataset æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„ç£ç›˜å®¹é‡


## è¡ŒåŠ¨å‘½ä»¤
- ctrl c ä¸­æ­¢å½“å‰æ“ä½œ
- kill %1 ä¸­æ–­å½“å‰åºå·ä¸º1 çš„é¡¹ç›®
- kill %$(jobs -p) ä¸­æ–­æ‰€æœ‰çš„é¡¹ç›®
- ctrl z æš‚åœå½“å‰æ“ä½œ

## åŸºç¡€å‡½æ•°æ“ä½œ
- echo 'my script begin to run!' # æ‰“å°å‡½æ•°
- python å‘½ä»¤è¡Œè¾“å…¥ï¼š
```powershell
local pdbid=$1 #è¯»å–å‘½ä»¤è¡Œè¾“å…¥ï¼Œæ³¨æ„æ²¡æœ‰ç©ºæ ¼
python myscrip.py\
--ligandfile '$ligandfile'\
``` 
- python çš„å¼•ç”¨
python åŒæ–‡ä»¶å¤¹ä¸‹çš„.py
python \home\tmp\zsl\å…¨æ–‡ä»¶ä¸‹çš„.py

ls | head -5000 | while read -r item; do
    cp -r '$item' /home/dataset-assist-0/tmp/zsl/0-database
done

## è°ƒç”¨å‡½æ•°çš„æ–¹å¼
- å®šä¹‰å‡½æ•°ï¼š01_ligand_process() { } # å¤§æ‹¬å·å‰éœ€è¦ç©ºæ ¼
- chmod +x your_script.sh #ç»™è„šæœ¬å¢åŠ æƒé™
- ./your_script.sh # ç›´æ¥è¿è¡Œ
- cat 01_ligand_data.txt | parallel --joblog 02.log --retries 3 --jobs 16 01_ligand_process {} # æœ€åé¢çš„å¤§æ‹¬å·å‰é¢éœ€è¦ç©ºæ ¼
- base_directory=$(pwd)
# åŸºæœ¬é…ç½®
- å®‰è£…GNU parallel
sudo apt-get install parallel  # Ubuntu/Debian
- å®‰è£…æ–‡ä»¶è½¬åŒ–
sudo apt install dos2unix
dos2unix mydoc.txt
## å•æ–‡ä»¶txtæ“ä½œ
- cp 01_ligand_data.txt 01_ligand_data.txt.backup #å¤‡ä»½åŸæ–‡ä»¶
- sed -i 's/[[:space:]]//g' 01_ligand_data.txt # ç§»é™¤æ‰€æœ‰ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ï¼‰
- cat 01_ligand_data.txt | head -10 #åˆ—å‡ºæ¥æ¸…ç†ä¹‹åçš„æ“ä½œã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/Linux%20-ji-chu-cao-zuo.html</guid><pubDate>Fri, 17 Oct 2025 17:35:55 +0000</pubDate></item><item><title>20251017 ã€Šç°ä»£è½¯ä»¶å·¥ç¨‹ã€‹è¯¾ç¨‹ ä¸ªäººåšå®¢ä½œä¸š 1â€”â€”å°±ã€Šç°ä»£è½¯ä»¶å·¥ç¨‹ã€‹æ 5 ä¸ªé—®é¢˜</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251017%20%E3%80%8A-xian-dai-ruan-jian-gong-cheng-%E3%80%8B-ke-cheng-%20-ge-ren-bo-ke-zuo-ye-%201%E2%80%94%E2%80%94-jiu-%E3%80%8A-xian-dai-ruan-jian-gong-cheng-%E3%80%8B-ti-%205%20-ge-wen-ti.html</link><description>Part Bï½œå¿«é€Ÿé€šè¯»ã€Šæ„å»ºä¹‹æ³•ã€‹åçš„äº”ä¸ªé—®é¢˜
è¯´æ˜ï¼šæ¯ä¸ªé—®é¢˜å‡åŒ…å«â€œé—®é¢˜é™ˆè¿°ï½œè§¦å‘å‡ºå¤„ï½œæˆ‘ä»¬æŸ¥çš„èµ„æ–™(æ˜¾ç„¶,è¿™é‡Œæœ‰LLMè¾…åŠ©å†™ä½œ)ï½œLLMæå‡ºå¹¶å»ºè®®æˆ‘å®è·µçš„è®¡åˆ’ï½œæœªè§£ä¹‹æƒ‘/å¾…éªŒè¯â€ï¼Œå¹¶å°½é‡ç»™å‡ºå¯å¤ç”¨çš„è¯„ä¼°ç»´åº¦æˆ–å®éªŒè®¾è®¡æ€è·¯ã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251017%20%E3%80%8A-xian-dai-ruan-jian-gong-cheng-%E3%80%8B-ke-cheng-%20-ge-ren-bo-ke-zuo-ye-%201%E2%80%94%E2%80%94-jiu-%E3%80%8A-xian-dai-ruan-jian-gong-cheng-%E3%80%8B-ti-%205%20-ge-wen-ti.html</guid><pubDate>Fri, 17 Oct 2025 14:35:39 +0000</pubDate></item><item><title>20251017 åšå®¢æµ‹è¯•</title><link>https://blackcatontree.github.io/zhoushilei.github.io/post/20251017%20-bo-ke-ce-shi.html</link><description>Hello worldã€‚</description><guid isPermaLink="true">https://blackcatontree.github.io/zhoushilei.github.io/post/20251017%20-bo-ke-ce-shi.html</guid><pubDate>Fri, 17 Oct 2025 14:27:05 +0000</pubDate></item></channel></rss>