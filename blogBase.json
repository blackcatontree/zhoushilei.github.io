{"singlePage": [], "startSite": "", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "", "style": "", "head": "", "indexScript": "", "indexStyle": "", "bottomText": "", "showPostSource": 1, "iconList": {}, "UTC": 8, "rssSplit": "sentence", "exlink": {}, "needComment": 1, "allHead": "", "title": "\u5468\u4ed5\u78ca\u7684\u535a\u5ba2", "subTitle": "\u6574\u7406\u81ea\u5df1\u7f16\u7a0b\u4e2d\u9047\u5230\u7684\u95ee\u9898", "avatarUrl": "https://avatars.githubusercontent.com/u/114755056?v=4", "GMEEK_VERSION": "last", "postListJson": {"P1": {"htmlDir": "docs/post/20251017 -bo-ke-ce-shi.html", "labels": ["class"], "postTitle": "20251017 \u535a\u5ba2\u6d4b\u8bd5", "postUrl": "post/20251017%20-bo-ke-ce-shi.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/1", "commentNum": 1, "wordCount": 11, "description": "Hello world\u3002", "top": 0, "createdAt": 1760711225, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-17", "dateLabelColor": "#0969da"}, "P2": {"htmlDir": "docs/post/20251017 \u300a-xian-dai-ruan-jian-gong-cheng-\u300b-ke-cheng- -ge-ren-bo-ke-zuo-ye- 1\u2014\u2014-jiu-\u300a-xian-dai-ruan-jian-gong-cheng-\u300b-ti- 5 -ge-wen-ti.html", "labels": ["class"], "postTitle": "20251017 \u300a\u73b0\u4ee3\u8f6f\u4ef6\u5de5\u7a0b\u300b\u8bfe\u7a0b \u4e2a\u4eba\u535a\u5ba2\u4f5c\u4e1a 1\u2014\u2014\u5c31\u300a\u73b0\u4ee3\u8f6f\u4ef6\u5de5\u7a0b\u300b\u63d0 5 \u4e2a\u95ee\u9898", "postUrl": "post/20251017%20%E3%80%8A-xian-dai-ruan-jian-gong-cheng-%E3%80%8B-ke-cheng-%20-ge-ren-bo-ke-zuo-ye-%201%E2%80%94%E2%80%94-jiu-%E3%80%8A-xian-dai-ruan-jian-gong-cheng-%E3%80%8B-ti-%205%20-ge-wen-ti.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/2", "commentNum": 5, "wordCount": 4186, "description": "Part B\uff5c\u5feb\u901f\u901a\u8bfb\u300a\u6784\u5efa\u4e4b\u6cd5\u300b\u540e\u7684\u4e94\u4e2a\u95ee\u9898\n\u8bf4\u660e\uff1a\u6bcf\u4e2a\u95ee\u9898\u5747\u5305\u542b\u201c\u95ee\u9898\u9648\u8ff0\uff5c\u89e6\u53d1\u51fa\u5904\uff5c\u6211\u4eec\u67e5\u7684\u8d44\u6599(\u663e\u7136,\u8fd9\u91cc\u6709LLM\u8f85\u52a9\u5199\u4f5c)\uff5cLLM\u63d0\u51fa\u5e76\u5efa\u8bae\u6211\u5b9e\u8df5\u7684\u8ba1\u5212\uff5c\u672a\u89e3\u4e4b\u60d1/\u5f85\u9a8c\u8bc1\u201d\uff0c\u5e76\u5c3d\u91cf\u7ed9\u51fa\u53ef\u590d\u7528\u7684\u8bc4\u4f30\u7ef4\u5ea6\u6216\u5b9e\u9a8c\u8bbe\u8ba1\u601d\u8def\u3002", "top": 0, "createdAt": 1760711739, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-17", "dateLabelColor": "#0969da"}, "P3": {"htmlDir": "docs/post/Linux -ji-chu-cao-zuo.html", "labels": ["linux"], "postTitle": "Linux \u57fa\u7840\u64cd\u4f5c", "postUrl": "post/Linux%20-ji-chu-cao-zuo.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/3", "commentNum": 0, "wordCount": 2577, "description": "# Linux \u57fa\u7840\u64cd\u4f5c\n##  \u8fdb\u5165\u547d\u4ee4\n- cd +Tab \u81ea\u52a8\u8865\u5168\n- cd \u540e\u9000\u5230home\n- cd .. \u540e\u9000\u4e00\u683c\n- cd ../ \u540e\u9000\u4e24\u683c\n- cd / \u540e\u9000\u5230\u6839\u76ee\u5f55\n- pwd \u5f53\u524d\u6240\u5904\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\n\n## \u5c55\u793a\u547d\u4ee4\n- ls \u5168\u90e8\u7f57\u5217\n- ls |head \u5217\u51fa\u90e8\u5206\u6570\u636e\n- ls |head -n 100 \u5217\u51fa100\u6761\u6570\u636e\n- ls |wc -l \u5217\u51fa\u6587\u4ef6\u5939\u4e2d\u4e00\u5171\u6709\u591a\u5c11\u4e2a\u6587\u4ef6\n- head -n1 .chag \u663e\u793a.chag\u7684\u7b2c\u4e00\u884c\u6570\u636e\n\n## \u7b80\u5355\u8ba1\u7b97\n- total_charge=$(echo '$protein_charge+$ligand_charge'|bc) \u8868\u793a\u6d6e\u70b9\u6570\u8fd0\u7b97\uff0cbc\u53ef\u4ee5\u7528\u6765\u5904\u7406\u6d6e\u70b9\u6570\n- sed \u53ef\u4ee5\u5bf9\u6587\u672c\u8fdb\u884c\u67e5\u627e\u3001\u66ff\u6362\u3001\u5220\u9664\n- sed -i '1s/.*/$total_charge/' .chrg \u5728\u7b2c\u4e00\u884c\u8fdb\u884c\u64cd\u4f5c \uff0c.*\u8868\u793a\u5339\u914d\u6574\u884c $total_charge \u66ff\u6362\u4e3a\u603b\u7535\u8377\u503c\uff0c.chrg\u8868\u793a\u5e94\u7528\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e0a\n- \u6ce8\u610f\u5982\u679ctotal_charge \u662f -1 \u4f1a\u62a5\u9519\n- \u53ef\u4ee5\u66f4\u6362\u4e3a\u5176\u4ed6\u5206\u5272\u7b26 sed -i '1s#.*#$total_charge# .CHRG'\n```shell\n    sed -i '1s#.*#$total_charge#' .CHRG # \u5bf9\u7b2c\u4e00\u884c\u8fdb\u884c\u6574\u4f53\u66ff\u4ee3\n    sed -i '$s#$#$ligand_charge#' .CHRG # $\u5339\u914d\u6a21\u5f0f\u662f\u884c\u5c3e\n```\n\n## \u6587\u4ef6\u64cd\u4f5c\n- pwd \u8f93\u51fa\u5f53\u524d\u7684\u6587\u4ef6\u5939\u8def\u5f84\n- cp A B \u5c06A \u7684\u6587\u4ef6\u590d\u5236\u5230B \u4e2d\n- cp A/* B \u590d\u5236A \u4e2d\u7684\u6240\u6709\u6587\u4ef6\u5230A \u4e2d\n- rm -rf data \u5220\u9664\u6587\u4ef6\n### \u89e3\u538b\u6587\u4ef6\n1. tar\n```shell\n- tar -xzvf name.tar.gz|head-100  \u89e3\u538b\u51fa\u6765\uff0c\u770b\u770b100\u4e2a\n- tar -xzvf name.tar.gz \u76f4\u63a5\u89e3\u538b\n```\n2.7zip\n```shell \n- sudo apt update\n- sudo apt install p7zip-full #7z\u5b89\u88c5\n- 7z x 01_ligand_process.7z # \u89e3\u538b7z\u6587\u4ef6\n- 7z x 01_ligand_process.7z -o/path/to/destination # \u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55\n- 7z l 01_ligand_process.7z # \u5217\u51fa\u538b\u7f29\u5305\u7684\u5185\u5bb9\n- 7z t 01_ligand_process.7z # \u6d4b\u8bd5\u538b\u7f29\u5305\u7684\u5b8c\u6574\u6027\n```\n3.zip\n```shell \n- zip -r data5k.zip /database \u5c06database\u6587\u4ef6\u5939\u538b\u7f29\u5230data5k.zip\n- unzip name.zip\n- unzip data.zip -d /home/user/extracted/ #\u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55\n- unzip -l archive.zip #\u67e5\u770b\u538b\u7f29\u5305\u7684\u5185\u5bb9\n```\n\n- ls | head -100 | xargs -I {} cp {} /home/user/destination/ \u590d\u5236100\u4e2a\u5230xargs\u7ba1\u9053\u4e2d\uff0c\u5e76\u5230\u6587\u4ef6\u5939 \uff08\u590d\u5236\u6587\u4ef6\uff09\n- ls | head -5000 | xargs -I {} cp -r '{}' /home/dataset-assist-0/tmp/zsl/0-database \u76f4\u63a5\u590d\u5236\u6587\u4ef6\u5939 \u9700\u8981-r\n\n - ls |head -1000|xargs -I {} cp {} /home/dataset-assist-0/tmp/zsl/GatorAffinity-DB/GatorAffinity-DB-Fixed\n\n\n## \u67e5\u770b\u547d\u4ee4\n- df -h /home/dataset \u67e5\u770b\u5f53\u524d\u6587\u4ef6\u7684\u78c1\u76d8\u5bb9\u91cf\n\n\n## \u884c\u52a8\u547d\u4ee4\n- ctrl c \u4e2d\u6b62\u5f53\u524d\u64cd\u4f5c\n- kill %1 \u4e2d\u65ad\u5f53\u524d\u5e8f\u53f7\u4e3a1 \u7684\u9879\u76ee\n- kill %$(jobs -p) \u4e2d\u65ad\u6240\u6709\u7684\u9879\u76ee\n- ctrl z \u6682\u505c\u5f53\u524d\u64cd\u4f5c\n\n## \u57fa\u7840\u51fd\u6570\u64cd\u4f5c\n- echo 'my script begin to run!' # \u6253\u5370\u51fd\u6570\n- python \u547d\u4ee4\u884c\u8f93\u5165\uff1a\n```powershell\nlocal pdbid=$1 #\u8bfb\u53d6\u547d\u4ee4\u884c\u8f93\u5165\uff0c\u6ce8\u610f\u6ca1\u6709\u7a7a\u683c\npython myscrip.py\\\n--ligandfile '$ligandfile'\\\n``` \n- python \u7684\u5f15\u7528\npython \u540c\u6587\u4ef6\u5939\u4e0b\u7684.py\npython \\home\\tmp\\zsl\\\u5168\u6587\u4ef6\u4e0b\u7684.py\n\nls | head -5000 | while read -r item; do\n    cp -r '$item' /home/dataset-assist-0/tmp/zsl/0-database\ndone\n\n## \u8c03\u7528\u51fd\u6570\u7684\u65b9\u5f0f\n- \u5b9a\u4e49\u51fd\u6570\uff1a01_ligand_process() { } # \u5927\u62ec\u53f7\u524d\u9700\u8981\u7a7a\u683c\n- chmod +x your_script.sh #\u7ed9\u811a\u672c\u589e\u52a0\u6743\u9650\n- ./your_script.sh # \u76f4\u63a5\u8fd0\u884c\n- cat 01_ligand_data.txt | parallel --joblog 02.log --retries 3 --jobs 16 01_ligand_process {} # \u6700\u540e\u9762\u7684\u5927\u62ec\u53f7\u524d\u9762\u9700\u8981\u7a7a\u683c\n- base_directory=$(pwd)\n# \u57fa\u672c\u914d\u7f6e\n- \u5b89\u88c5GNU parallel\nsudo apt-get install parallel  # Ubuntu/Debian\n- \u5b89\u88c5\u6587\u4ef6\u8f6c\u5316\nsudo apt install dos2unix\ndos2unix mydoc.txt\n## \u5355\u6587\u4ef6txt\u64cd\u4f5c\n- cp 01_ligand_data.txt 01_ligand_data.txt.backup #\u5907\u4efd\u539f\u6587\u4ef6\n- sed -i 's/[[:space:]]//g' 01_ligand_data.txt # \u79fb\u9664\u6240\u6709\u7a7a\u767d\u5b57\u7b26\uff08\u7a7a\u683c\u3001\u5236\u8868\u7b26\uff09\n- cat 01_ligand_data.txt | head -10 #\u5217\u51fa\u6765\u6e05\u7406\u4e4b\u540e\u7684\u64cd\u4f5c\u3002", "top": 0, "createdAt": 1760722555, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-18", "dateLabelColor": "#0969da"}, "P4": {"htmlDir": "docs/post/20251018 -dan-bai-zhi-pei-ti-xiang-hu-zuo-yong-DFT-ji-suan-bu-fen.html", "labels": ["\u79d1\u7814"], "postTitle": "20251018 \u86cb\u767d\u8d28\u914d\u4f53\u76f8\u4e92\u4f5c\u7528DFT\u8ba1\u7b97\u90e8\u5206", "postUrl": "post/20251018%20-dan-bai-zhi-pei-ti-xiang-hu-zuo-yong-DFT-ji-suan-bu-fen.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/4", "commentNum": 0, "wordCount": 1940, "description": "## \u524d\u671f\u51c6\u5907\n1.gromacs\u5b89\u88c5\n\n```shell\nconda activate aidd310\nsudo apt-get update #\u66f4\u65b0\nsudo apt-get install gromacs #\u5b89\u88c5\n```\n2.xtb\u8ba1\u7b97\u8f6f\u4ef6\u5b89\u88c5\n```shell\nconda install xtb -c conda-forge\n```\n\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\n```shell\nxtb --version\n```\n\n\u5b8c\u6210\u4e4b\u540e\u663e\u793a\n```\nExecuting transaction: done                                                                                                                                                                                                             \n(/home/dataset-assist-0/tmp/zsl/conda_envs/aidd310) batchcom@dev-env-n651q-ee82f9:/home/dataset-assist-0/tmp/zsl/6-test/data_change/gfnff/jobs/GID110022$ xtb --version\n      -----------------------------------------------------------                                                                                                                                                                       \n     |                   =====================                   |                                                                                                                                                                      \n     |                           x T B                           |                                                                                                                                                                      \n     |                   =====================                   |     \n     |                         S. Grimme                         |     \n     |          Mulliken Center for Theoretical Chemistry        |     \n     |                    University of Bonn                     |     \n      -----------------------------------------------------------      \n\n   * xtb version 6.7.1 (edcfbbe) compiled by 'conda@c0858423619e' on 2025-09-04\n\nnormal termination of xtb\n```\n\n## \u6587\u4ef6\u5217\u8868\n- 01_process_mo2 : \u8bfb\u5165\u914d\u4f53\u7684\u6570\u636e\uff0c\u901a\u8fc7mol2\u8fdb\u884c\u7535\u8377\u5408\u7406/\u4e0d\u5408\u7406\u7684\u7b5b\u9009\uff0c\u7b5b\u9009\u51fa\u6765\u7684\u6587\u4ef6\u4fdd\u5b58\u5728logfile\u4e2d\uff0c\u4e0d\u5408\u7406\u7684\u4fdd\u5b58\u5728wrong\u4e2d\n- 02_addchian: \u8bfb\u5165\u86cb\u767d\u8d28\uff0c\u8ba1\u7b97\u6b8b\u57fa\u7684\u7535\u8377\uff0c\u5e76\u5bf9\u94fe\u8fdb\u884c\u6807\u8bc6\u7b26\u7684\u91cd\u65b0\u5206\u914d\n- 02_dump_protein:\u3002", "top": 0, "createdAt": 1760786680, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-18", "dateLabelColor": "#0969da"}, "P5": {"htmlDir": "docs/post/20251019 -xuan-dao-shi.html", "labels": ["\u91cd\u8981\u4e8b\u4ef6"], "postTitle": "20251019 \u9009\u5bfc\u5e08", "postUrl": "post/20251019%20-xuan-dao-shi.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/5", "commentNum": 0, "description": "", "wordCount": 0, "top": 0, "createdAt": 1760867682, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-19", "dateLabelColor": "#0969da"}, "P6": {"htmlDir": "docs/post/windows-ming-ling-xing-de-cao-zuo-fang-fa.html", "labels": ["windows"], "postTitle": "windows\u547d\u4ee4\u884c\u7684\u64cd\u4f5c\u65b9\u6cd5", "postUrl": "post/windows-ming-ling-xing-de-cao-zuo-fang-fa.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/6", "commentNum": 0, "wordCount": 151, "description": " Get-ChildItem -Directory | Select-Object Name | Out-File -FilePath folder_list.txt -Encoding UTF8 \n\u5c06\u5f53\u524d\u6587\u4ef6\u5939\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u5939\u7684\u540d\u5b57\u590d\u5236\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u5e76\u4e14\u5c06\u5176\u653e\u7f6e\u5728\u8be5\u6587\u4ef6\u5939\u4e0b \u7f16\u7801\u65b9\u5f0f\u91c7\u7528UTF8\u7684\u65b9\u5f0f\u3002", "top": 0, "createdAt": 1761147562, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-22", "dateLabelColor": "#0969da"}, "P7": {"htmlDir": "docs/post/python-ji-chu-cao-zuo.html", "labels": ["python"], "postTitle": "python\u57fa\u7840\u64cd\u4f5c", "postUrl": "post/python-ji-chu-cao-zuo.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/7", "commentNum": 0, "wordCount": 1755, "description": "##  linux \u4e0b python \u7248\u672c\u548c\u4f4d\u7f6e\u67e5\u770b\n- which python #\u67e5\u627e\u7cfb\u7edf\u4e2d\u6709\u90a3\u4e9bpython\n- ls /usr/bin/python* # \u5217\u51fa\u6240\u6709\u7684python\u6587\u4ef6\n- ls /usr/bin/python* # \u7cfb\u7edfpython\u7248\u672c\u67e5\u770b\n- conda --version # \u67e5\u770bconda\u7684\u5b89\u88c5\u7248\u672c\n- conda info # conda \u7684\u4fe1\u606f\n- conda env list # \u5217\u51faconda\u7684\u6240\u6709env\n- conda list python # \u67e5\u770b\u5f53\u524d\u7684python\u7248\u672c\n- conda create -n aidd310 python=3.10\n\n## linux \u4e0bconda\u521b\u5efa\u65b0\u7684\u73af\u5883\n- ls -la /home/ # \u68c0\u67e5\u7528\u6237\u4e3b\u76ee\u5f55\u7684\u6743\u9650\n- conda create -p ./conda_envs/aidd310 python=3.10 # \u5f53\u524d\u6587\u4ef6\u5939\u521b\u5efaconda_envs \u5b58\u50a8\u4e00\u4e2aaidd310 \u7684env\u540d\u79f0\uff0c\u6307\u5b9apython\u7248\u672c\u662f310\n- conda activate ./conda_envs/aidd310 # \u6fc0\u6d3baidd310\n```shell\nmkdir /home/dataset-assist-0/conda-env\nmkdir /home/dataset-assist-0/conda-pkg\nconda config --add envs_dirs /home/dataset-assist-0/conda-env/\nconda config --add pkgs_dirs /home/dataset-assist-0/conda-pkg/\nconda create -n myenv python=3.11\n``` \n- conda deactivate # \u9000\u51fa\u5f53\u524d\u73af\u5883\n- rm -rf /home/dataset-assist-0/tmp/zsl/conda_envs/aidd310 \u6587\u4ef6\u5939\u4e2d\u7684\u73af\u5883\n- conda create -p /home/dataset-assist-0/tmp/zsl/conda_envs/aidd310 python=3.10 -y \u91cd\u65b0\u5b89\u88c5\u73af\u5883\n- python --version # \u67e5\u770b\u5f53\u524dpython\u73af\u5883\n\n## windows \u4e0a\u7684pkg\u6253\u5305\u5230linux\nwindows\u4e0a\u5bfc\u51fapkg\n- \u810f\u7684\u65b9\u5f0f\uff1aconda env export > environment.yml\n- \u5e72\u51c0\u7684\u65b9\u5f0f: conda env export --no-builds > environment.yml\nlinux \u4e0a\u5b89\u88c5pkg\n- conda activate aidd310 # \u6fc0\u6d3b\u65b0\u7684\u73af\u5883\n- conda activate /home/dataset-assist-0/tmp/zsl/conda_envs/aidd310\n\n```shell\n# \u6dfb\u52a0\u6e05\u534e\u955c\u50cf\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\nconda config --set show_channel_urls yes\n\n# \u7136\u540e\u91cd\u65b0\u5b89\u88c5\nconda install numpy=1.26.4 scipy pandas matplotlib -y\n``` \n- pip install numpy==1.26.4 pandas matplotlib scipy\n- pip install openbabel-wheel\n- pip install pybel\n- pip install rdkit==2025.9.1\n- \n\u3002", "top": 0, "createdAt": 1761277754, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-24", "dateLabelColor": "#0969da"}, "P8": {"htmlDir": "docs/post/te-yi-xing-ba-dian-xiao-fen-zi-yao-wu-shai-xuan.html", "labels": ["\u79d1\u7814"], "postTitle": "\u7279\u5f02\u6027\u9776\u70b9\u5c0f\u5206\u5b50\u836f\u7269\u7b5b\u9009", "postUrl": "post/te-yi-xing-ba-dian-xiao-fen-zi-yao-wu-shai-xuan.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/8", "commentNum": 0, "wordCount": 447, "description": "## \u86cb\u767d\u8d28\u53e3\u888b\u5212\u5206\n\u9009\u53d6\u53e3\u888b\u90e8\u5206\uff0c6A ,8A ,\n\u7403\u5f62/\u6b63\u65b9\u5f62\nps. \u4e00\u5b9a\u6309\u7167\u6587\u732e\u4e2d\u7684\u6570\u636e\u8fdb\u884c\n\n## \u4ece\u6570\u636e\u5e93\u4e2d\u4e0b\u8f7dmol2\n400millions \u7684\u836f\u7269\u5206\u5b50\u53bb\u548c\u86cb\u767d\u8d28\u53e3\u888b\u8fdb\u884c\u4f5c\u7528\n\n## \u7b5b\u9009\u51faTOP1K\u7684\u6570\u636e\nDrugClip \u4e00\u79cd\u57fa\u4e8e\u5bf9\u6bd4\u5b66\u4e60\u7684\u86cb\u767d\u8d28-\u5206\u5b50\u8868\u793a\u5b66\u4e60\u6846\u67b6\uff0c\u5c06\u865a\u62df\u7b5b\u9009\u91cd\u6784\u4e3a\u5bc6\u96c6\u68c0\u7d22\u4efb\u52a1\uff0c\u901a\u8fc7\u53cc\u7f16\u7801\u5668\uff0c\n1. unimol\u76843d transformer \u5b66\u4e60\u86cb\u767d\u8d28\u53e3\u888b\u4e8e\u5206\u5b50\u7684\u8868\u793a\uff1b\n2. HomoAug\u751f\u7269\u6570\u636e\u589e\u5f3a\uff08\u5229\u7528\u540c\u6e90\u86cb\u767d\u8d28\u751f\u6210\u65b0\u8bad\u7ec3\u5bf9\uff09\u548crdkit\u6784\u8c61\u6a21\u62df\u5904\u7406\u8bad\u7ec3-\u6d4b\u8bd5\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\uff0c\u5728\n\u7ed3\u679c\uff1a\n1. dud-e \u548clit-pcba\u57fa\u51c6\u6d4b\u8bd5\u4e2d\uff0c\u96f6\u6837\u672c\u8bbe\u7f6e\u4e0b\u663e\u8457\u4f18\u4e8eGlide-sp vina\u7b49\u4f20\u7edf\u5bf9\u63a5\u65b9\u6cd5\n\n## \u67e5\u770bTOP100/20/50\u91cc\u9762\u6709\u6ca1\u6709\u6211\u4eec\u7684\u9633\u6027\u5206\u5b50\n\u6211\u4eec\u6709pos\u9633\u6027\u7684\u5206\u5b50 \u4e5f\u6709neg\u9634\u6027\u7684\u5206\u5b50\n\n\n\u6ce8\u610f\uff1a\n1. \u6211\u4eec\u7279\u5f81\u63d0\u53d6\u65f6\u53ef\u4ee5\u5c06\u6570\u636e\u63d0\u53d6\u51fa\u6765\u4e4b\u540e\u76f4\u63a5\u8fdb\u884c\uff0c\u4e0d\u9700\u8981\u91cd\u590d\u8fdb\u884c\u8ba1\u7b97\n2. \u5927\u89c4\u6a21\u7684\u7279\u5f81\u63d0\u53d6\uff0c\u53ef\u4ee5\u91c7\u7528faceholk\u7684\u65b9\u5f0f\u8fdb\u884c\u3002", "top": 0, "createdAt": 1761283875, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-24", "dateLabelColor": "#0969da"}, "P9": {"htmlDir": "docs/post/20251025 bash -wen-jian-de-gou-jian.html", "labels": ["bash"], "postTitle": "20251025 bash \u6587\u4ef6\u7684\u6784\u5efa", "postUrl": "post/20251025%20bash%20-wen-jian-de-gou-jian.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/9", "commentNum": 0, "wordCount": 1563, "description": "## \u57fa\u7840\u64cd\u4f5c\n```shell\n# \u5f3a\u5236\u6e05\u9664\u6587\u4ef6\nrm -f name.txt # \u5f3a\u5236\u6e05\u9664\u6587\u4ef6\n# \u6587\u672c\u68c0\u7d22\nligand_charge=$(grep $pdbid /home/zsl/ligand.txt | awk '{print $2}') #|\u524d\u68c0\u7d22\u51fa\u7684\u884c\uff0c|\u540e\u8f93\u51fa\u7b2c\u4e8c\u5217\n\n# \u6279\u5904\u7406\u64cd\u4f5c\ncat batch.txt | parallel --env _ --joblog 02.log --retries 3 --jobs 16 process_pdbid {} #\u6279\u5904\u7406\u64cd\u4f5c\uff08base txt \u6587\u6863\uff09\nfind '/home/tmp/zsl/data' -maxdepth 1 -type d -name 'GID*' | sort | while read dir; do\n   pdbid=$(basename'$dir')\n   echo '$pdbid'\ndone | parallel --joblog 02.log --retries 3 --jobs 16 01_ligand_process{} # \u6279\u5904\u7406\u64cd\u4f5c\uff08base find\u6587\u4ef6\u5939\u540d\u79f0\u68c0\u7d22\uff09\n\n# \u8c03\u7528bash\u6587\u4ef6\ncd /home/test\nchmod +x 02_protein_process.sh #\u589e\u52a0\u6743\u9650\n./02_protein_process.sh #\u76f4\u63a5\u8fd0\u884c\n```\n## IF\u8bed\u53e5\n``` shell\nif [[ $? -eq 0]]; then\n    gmx editconf -f ${pdbid}_protein.gro -o ${pdbid}_protein_H.pdb -nobackup > /dev/null 2>&1 #gro \u8f6c\u5316\u4e3apdb\u6587\u4ef6\uff0c\u73b0\u5728\u5df2\u7ecf\u53bb\u6389\u4e86H\n    python $base_directory/02_protein_process/0202_addchain.py\\\n        --pdbfile ${pdbid}_protein_H.pdb \\\n        --pdbid $pdbid\\\n        --outdir $outdir #\u7ed3\u675f\u4e0d\u9700\u8981\u53cd\u659c\u6760\nelse\n    echo '${pdbid} pdb2gmx failed. Check pdb2gmx.out for details.'\n    echo ${pdbid} >> $base_directory/02_protein_process/nonstandard_residue.txt\nfi   \n``` \n## function defination\n```shell\n02_protein_process() {\n    # defination\n    base_directory=$(pwd)#\u5f53\u524d\u6587\u4ef6\u5939\n    local pdbfile='${base_directory}/data/$pdbid/protein/${pdbid}_protein_0_fixed.pdb'\n    \n    # action\n    mkdir -p $outdir\n    cd $outdir\n    \n    # python\n    python $base_directory/0201_dump_protein.py\\\n        --pdbfile $pdbfile\\\n        --ligandfile $ligandfile\\\n        --pdbid $pdbid\\\n        --outdir $outdir\n}\n# function \u8c03\u7528\nexport -f 02_protein_process #\u5c06\u51fd\u6570\u5bfc\u5165\u5230shell\u73af\u5883\u4e2d\n```\n\u3002", "top": 0, "createdAt": 1761333407, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-25", "dateLabelColor": "#0969da"}, "P10": {"htmlDir": "docs/post/20251028 ssh -pei-zhi-vscode-ben-di-xiu-gai-jupyter-de-kai-fa-ji.html", "labels": ["\u73af\u5883\u642d\u5efa"], "postTitle": "20251028 ssh \u914d\u7f6evscode\u672c\u5730\u4fee\u6539jupyter\u7684\u5f00\u53d1\u673a", "postUrl": "post/20251028%20ssh%20-pei-zhi-vscode-ben-di-xiu-gai-jupyter-de-kai-fa-ji.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/10", "commentNum": 0, "wordCount": 2097, "description": "## \u4e00\u4e2a\u7535\u8111\u8fde\u63a5\u4e24\u4e2assh\u5f00\u53d1\u673a\n### \u751f\u6210\u65b0\u7684ssh\u5bc6\u94a5\u5bf9\n```bash\n### \u751f\u6210\u5bc6\u94a5\u5bf9\nssh-keygen -t rsa -b 4096 -C 'gpu8' -f C:\\Users\\Administrator\\.ssh\\id_rsa_gpu8\n### \u67e5\u770b\u5bc6\u94a5\u5bf9\ntype C:\\Users\\Administrator\\.ssh\\id_rsa_gpu8.pub\n### \u590d\u5236\u5bc6\u94a5\u5bf9\u5230\u3010\u6dfb\u52a0\u516c\u94a5\u3011\n### \u91cd\u547d\u540d\u516c\u94a5\n### \u628a\u6587\u4ef6\u91cd\u65b0\u5b9a\u4e49\u5230\n```bash\n IdentityFile C:/Users/Administrator/.ssh/id_rsa_gpu8\n```\n```\n\n## \u4e24\u4e2a\u7535\u8111\u8fde\u63a5ssh\n1. **\u4e24\u53f0\u7535\u8111\u751f\u6210ssh key**\n```bash\nssh-keygen \nssh-keygen -t ed25519 -C 'my-dev-machine'\n```\n\u79c1\u94a5\uff1a~/.ssh/id_ed25519\n\u516c\u94a5\uff1a~/.ssh/id_ed25519.pub\n```bash\n# \u67e5\u770bkey\ncat ~/.ssh/id_ed25519.pub\n```\n2. **\u670d\u52a1\u5668\u4e0a**\n```bash\nmkdir -p ~/.ssh\nchmod 700 ~/.ssh\nnano ~/.ssh/authorized_keys   # \u6216 vi\n\u628a\u4e24\u53f0\u7535\u8111\u7684 id_ed25519.pub \u5404\u81ea\u90a3\u4e00\u6574\u884c\uff0c\u4e00\u884c\u4e00\u6761\uff0c\u90fd\u8d34\u8fdb\u53bb\uff1a\n\nssh-ed25519 AAAA...... \u7b2c\u4e00\u53f0\u7535\u8111\u7684\u516c\u94a5\nssh-ed25519 BBBB...... \u7b2c\u4e8c\u53f0\u7535\u8111\u7684\u516c\u94a5\nctrl+o \u4fdd\u5b58\nctrl+x  \u9000\u51fa\n\u4fdd\u5b58\u540e\uff1a\nchmod 600 ~/.ssh/authorized_keys\n```\nps.\u5982\u679c\u8fd8\u662f\u8fde\u63a5\u4e0d\u4e0a\uff0c\u53ef\u4ee5\u6e05\u9664\u65e7\u6587\u6863\n```bash\n# \u67e5\u770b\u6709\u90a3\u4e9b\ntype C:\\Users\\Administrator\\.ssh\\known_hosts\n# \u5220\u9664\u65e7\u4fe1\u606f\nssh-keygen -R '[106.63.100.63]:30211'\n\u65e7\u7684\u8eab\u4efd\u4fe1\u606f\n```\n\n\n## \u6587\u4ef6\u540c\u6b65\uff0c\u53ef\u4ee5\u76f4\u63a5\u7f16\u5199 \n### 1.vscode\u5b89\u88c5ssh\u63d2\u4ef6 remote-SSH\n\n ```shell\nssh # \u68c0\u67e5\u662f\u5426\u5b89\u88c5\u4e86ssh\n\n```\n### 2.\u5f00\u53d1\u673a\u521b\u5efassh\n\u5f00\u53d1\u673a\u521b\u5efassh \uff0c\u540d\u79f0\u968f\u4fbf\u586b\u5199\n\u767e\u5ea6\u68c0\u7d22ip\u5c06ip\u5730\u5740\u8bbe\u7f6e\u4e3a\u767d\u540d\u5355\uff0c\u540e\u9762\u52a0\u4e0a/24\u4f5c\u4e3a\u63a9\u7801\n### 3. vscode\u521b\u5efa\u5bc6\u94a5\u5bf9\n\u5728cmd\u4e2d\u8f93\u5165\n\n```\nssh-keygen\n```\n\u51fa\u73b0\u7ed3\u679c\uff1a\n\n```\nGenerating public/private ed25519 key pair.\nEnter file in which to save the key (C:\\Users\\Administrator/.ssh/id_ed25519):\n```\n\n### 4..\u8fdb\u5165\u8fd9\u4e2a\u6587\u4ef6ed25519.pub \u6587\u4ef6\u4e2d\n\n```\nssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJ7VQofGtnZi5ZJl9wF0Mx7p8Kms4WrYN0+8ttlCrCox administrator@DESKTOP-SL4G7T4\n```\n \n### 5. vscode\u91cc\u9762\u8fdb\u884c\u914d\u7f6e\n\n```\n#~/.ssh/config\nHost Ai-train-01\n    HostName 106.63.100.63\n    User batchcom\n    Port 30060\n    IdentityFile ~/.ssh/id_ed25519 \n```\nidentityFile \u53ef\u4ee5\u7528\u7edd\u5bf9\u8def\u5f84\n\n### 6.\u76f4\u63a5\u70b9\u51fbvscode\u4e0b\u9762\u7684 ssh\u5c31\u53ef\u4ee5\u8fde\u63a5\u4e86\n+ linux\n+ yes\n\n## \u76f4\u63a5\u8fd0\u884c\u8c03\u7528\uff0c\u5f25\u8865\u5f00\u53d1\u673a\u65e0\u6cd5\u76f4\u63a5\u8fd0\u884c\u7f3a\u70b9\n### 1.\u70b9\u51fbFile\u2014>Preferences\u2014>Settings\uff0c\u641c\u7d22Show Login Terminal\uff0c\u5e76\u52fe\u9009Always reveal the SSH login terminal\n### 2. \u8fd0\u884c\u547d\u4ee4\n\u76f4\u63a5\u70b9\u51fb\u4e0a\u65b9\u7684 \u8fd0\u884c \u6309\u94ae\u8fd0\u884c\n```shell\nCtrl+Shift+P (Windows/Linux) \u6216 Cmd+Shift+P (Mac)\nPython: Select Interpreter\n```\ncd\u5230\u547d\u4ee4\u884c\u91c7\u7528\u4e0b\u9762\u7684\u65b9\u5f0f\u8fd0\u884c\n\n```shell\npython demo.py\n```\n\n## \u8fd0\u884cjupyter notebook \u6587\u4ef6\n\u5728vscode\u91cc\u9762\u7684terminal\u91cc\u9762\u8fdb\u884c\u4e0b\u9762\u7684\u64cd\u4f5c\n\n```shell\nconda activate python2.5.1\npip install jupyter\nconda install ipykernel\npython -m ipykernel install --user --name python2.5.1 --display-name 'python251'\n\n```\n\u3002", "top": 0, "createdAt": 1761636988, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-28", "dateLabelColor": "#0969da"}, "P11": {"htmlDir": "docs/post/20251028 -ru-he-kuai-su-gou-jian-yi-ge-huan-jing-yong-yu-baseline-de-gou-jian.html", "labels": ["\u73af\u5883\u642d\u5efa"], "postTitle": "20251028 \u5982\u4f55\u5feb\u901f\u6784\u5efa\u4e00\u4e2a\u73af\u5883\u7528\u4e8ebaseline\u7684\u6784\u5efa", "postUrl": "post/20251028%20-ru-he-kuai-su-gou-jian-yi-ge-huan-jing-yong-yu-baseline-de-gou-jian.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/11", "commentNum": 0, "wordCount": 134, "description": "1. \u5b89\u88c5git\n```shell\nsudo apt update\nsudo apt install git\n```\n2.git\u514b\u9686\u9879\u76ee\n```shell\ngit clone https://github.com/bowen-gao/DrugCLIP.git\n```\n\u3002", "top": 0, "createdAt": 1761651373, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-28", "dateLabelColor": "#0969da"}, "P12": {"htmlDir": "docs/post/20251028 -ru-he-zai-kai-fa-ji-zhong-shi-yong-jupyter notebook.html", "labels": ["\u73af\u5883\u642d\u5efa"], "postTitle": "20251028 \u5982\u4f55\u5728\u5f00\u53d1\u673a\u4e2d\u4f7f\u7528jupyter notebook", "postUrl": "post/20251028%20-ru-he-zai-kai-fa-ji-zhong-shi-yong-jupyter%20notebook.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/12", "commentNum": 0, "wordCount": 139, "description": "```shell\nconda activate my_env\nconda install ipykernel\npython -m ipykernel install --user --name=pytorch2.5.1 --display-name pytorch251\n```\u3002", "top": 0, "createdAt": 1761657138, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-28", "dateLabelColor": "#0969da"}, "P13": {"htmlDir": "docs/post/20251029 -deng-yue-\uff1a-yuan-chang-you-yue.html", "labels": ["\u95f2\u8c08"], "postTitle": "20251029 \u9093\u5cb3\uff1a\u9662\u957f\u6709\u7ea6", "postUrl": "post/20251029%20-deng-yue-%EF%BC%9A-yuan-chang-you-yue.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/13", "commentNum": 0, "wordCount": 110, "description": "## \u535a\u58eb\u7684\u4e09\u4e2a\u9636\u6bb5\n1. \u6ca1\u6709\u601d\u8def\uff1a\u5feb\u901f\u7684rush\u6587\u7ae0\uff0c\u7136\u540e\u61c2\u8fd9\u4e2a\u65b9\u5411\u5e94\u8be5\u600e\u4e48\u505a\n2. \u6709\u5f88\u591a\u601d\u8def\uff0c\u5e76\u4e14\u5927\u6982\u7387\u90fd\u53ef\u884c\uff0c\u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u81ea\u5df1\u6c89\u6dc0\u4e00\u4e0b\uff0c\u601d\u8003\u5e94\u8be5\u505a\u4ec0\u4e48\u6837\u5b50\u7684\u6587\u7ae0\n3. \u6709\u81ea\u5df1\u7684\u79d1\u7814\u54c1\u5473\n\n## \u591a\u8bfb\u4e00\u4e9b\u7ecf\u5178\u6587\u732e\u3002", "top": 0, "createdAt": 1761675529, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-29", "dateLabelColor": "#0969da"}, "P14": {"htmlDir": "docs/post/20251029 drugclip.html", "labels": ["\u79d1\u7814"], "postTitle": "20251029 drugclip", "postUrl": "post/20251029%20drugclip.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/14", "commentNum": 0, "wordCount": 7053, "description": "## \u4e00\u3001ligand\u6570\u636e\u5e93\u6784\u5efa\n### 1. \u91c7\u7528\u4e86split_sdf \u8fdb\u884c\u5206\u5272\u5904\u7406\n### 2. \u6570\u636e\u5e93\u5206\u5b50ID\u7d22\u5f15\u95ee\u9898\uff1a\n```python\n# ... in getID function\nfor id_key in ['IDNUMBER','Catalog ID','ID']:\n    try:\n        return mol.GetProp(id_key)\n    except:\n        pass\nraise ValueError('No ID found in molecule')\n```\n```python\ndef getID(mol):\n    # \u6700\u7ec8\u7684 ID \u952e\u641c\u7d22\u5217\u8868\uff0cCatalog_ID \u662f\u6700\u9ad8\u4f18\u5148\u7ea7\n    for id_key in ['Catalog_ID', 'ZID', 'Compound_ID', 'ENAMINE_ID', 'IDNUMBER', 'Catalog ID', 'ID', 'NSC']: \n        try:\n            # \u627e\u5230\u6b63\u786e\u7684 ID \u952e\u5e76\u8fd4\u56de\n            return mol.GetProp(id_key)\n        except:\n            pass\n    \n    # \u5982\u679c\u6240\u6709\u952e\u90fd\u5931\u8d25\uff0c\u5219\u629b\u51fa\u9519\u8bef\n    raise ValueError('No ID found in molecule')\n```\n### 3.\u7279\u6b8a\u7684\u539f\u5b50\u8fdb\u884cUFF \u529b\u573a\u7684MMFF\u4f18\u5316\u65f6\u5931\u8d25\n```text\nSe2+2 (4)\u3001Pt+2 (1)\u3001Ca+2 (0)\u3001 S_6+6 (12)\u3001Re5 (2)\u3001Fe2+2 (0)\u3001 Ce+3 (0)\n```\n\u4e3b\u5faa\u73af\u4f1a\u5728\u5199\u5165 LMDB \u4e4b\u524d\uff0c\u81ea\u52a8\u8fc7\u6ee4\u6389\u6240\u6709\u8fd4\u56de None \u7684\u5206\u5b50\uff08\u5373\u8df3\u8fc7\u8fd9\u4e9b\u65e0\u6cd5\u5904\u7406\u7684\u5206\u5b50\uff09\n## \u4e8c\u3001\u52a0\u8f7d\u6743\u91cd\u8fdb\u884c\u7f16\u7801\n### 1. \u7f51\u76d8\u4e0b\u8f7dpt\u6743\u91cd\n### 2. unicore \u662f\u81ea\u5df1\u5b9a\u4e49\u7684\uff0c\u627e\u4e0d\u5230\n[unicore](https://github.com/dptech-corp/Uni-Core)\n```shell\ngit clone https://github.com/dptech-corp/Uni-Core.git\n# \u6216\u8005\u76f4\u63a5\u4e0b\u8f7d\u5230\u672c\u5730\u7136\u540e\u4e0a\u4f20\uff0c\u4e0a\u4f20\u540e\u89e3\u538b\ncd /home/dataset-assist-0/tmp/zsl/AIDD/\nunzip main.zip\ncd Uni-Core-main \npip install -e ./ # 3. \u5b89\u88c5 unicore \u5e93\uff08\u5728 pytorch2.5.1 \u73af\u5883\u4e2d\uff09\n```\n### 3. positive_ligand \u6570\u636eID \u76f4\u63a5\u7528\u5206\u5b50\u5f0f\n\n### 4. \u76f4\u63a5\u8c03\u7528\u5f00\u59cb\u505arank\n#DrugCLIP \u9a8c\u8bc1\u811a\u672c\u5206\u6790\n\n#### \u811a\u672c\u7b80\u4ecb\n`run_vs_validation.py` \u662f\u72ec\u7acb\u811a\u672c\uff0c\u7528\u4e8e\u9a8c\u8bc1 `DrugCLIP` \u6a21\u578b\u5728\u4e0d\u540c\u89c4\u6a21\uff081M\u30012M\u30014M\uff09\u8bf1\u9975\u5e93\u4e0a\u7684\u865a\u62df\u7b5b\u9009\u4efb\u52a1\u3002", "top": 0, "createdAt": 1761678110, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-29", "dateLabelColor": "#0969da"}, "P15": {"htmlDir": "docs/post/20251029 -xin-kai-fa-ji-gou-jian.html", "labels": ["\u73af\u5883\u642d\u5efa"], "postTitle": "20251029 \u65b0\u5f00\u53d1\u673a\u6784\u5efa", "postUrl": "post/20251029%20-xin-kai-fa-ji-gou-jian.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/15", "commentNum": 0, "wordCount": 1914, "description": "vscode \u7f51\u9875\u7248\u672c\n```shell\nconda create -n drugclip python=3.9 -y\nconda install pytorch==2.0.0 torchvision==0.15.0 torchaudio==2.0.0 pytorch-cuda=11.8 -c pytorch -c nvidia -y\n```\n\u914d\u7f6e\u6e05\u534e\u6e90\n```shell\nconda config --remove-key channels\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/\nconda config --set show_channel_urls yes\n```\ntorch \u5b89\u88c5\n```shell\npip install torch==2.0.0+cu118 torchvision==0.15.0+cu118 torchaudio==2.0.0+cu118 -f https://download.pytorch.org/whl/torch_stable.html -i https://pypi.tuna.tsinghua.edu.cn/simple\npip install /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unicore-0.0.1+cu118torch2.0.0-cp39-cp39-linux_x86_64.whl\n```\n```shell\npip install /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unicore-0.0.1+cu118torch2.0.0-cp39-cp39-linux_x86_64.whl\npip install  rdkit\npip install numpy pandas\npip install scikit-learn -i https://pypi.tuna.tsinghua.edu.cn/simple\n# \u5728 drugclip \u73af\u5883\u4e2d\u5b89\u88c5\npip install ipython -i https://pypi.tuna.tsinghua.edu.cn/simple\npip uninstall numpy -y\npip install numpy==1.24.3 -i https://pypi.tuna.tsinghua.edu.cn/simple\n```\nJupyter notebook \u8bbe\u7f6e\n\n```shell\npip install jupyter \npip install ipykernel\npython -m ipykernel install --user --name drugclip --display-name 'drugclip'\n```\n\ngit\u8bbe\u7f6e\n\u5b89\u88c5git graph \u63d2\u4ef6\uff0c(user's class)[https://blog.csdn.net/weixin_55783373/article/details/119571301]\n\n\u5de6\u4e0b\u89d2 \u5c55\u793agit graph\n\u70b9\u51fb\u4e0b\u8f7d\u6309\u94ae \u53ef\u4ee5\u4e0b\u8f7d\u6700\u65b0 \u7684\u8fdc\u7a0b\u5206\u652f\u6570\u636e\n\u53ef\u4ee5\u521b\u5efa\u65b0\u7684\u5206\u652f\n\u4e0a\u4e00\u6b65\u7684\u524d\u63d0\u662f\u4ee3\u7801\u5df2\u7ecf\u63d0\u4ea4\u4e86\u6216\u8005\u7b7e\u51fa\n```shell\ngit config --global user.name zsl\ngit config --global user.email 'zhou1553731627@gmail.com'\n#\u9a8c\u8bc1\u662f\u5426\u6b63\u786e\ngit config --list\n\n```\n```text\ncome from \ud83d\udc4d \nhttps://blog.csdn.net/weixin_55783373/article/details/119571301\n```\n\u5b89\u88c5python\u63d2\u4ef6\n\u3002", "top": 0, "createdAt": 1761747639, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-29", "dateLabelColor": "#0969da"}, "P16": {"htmlDir": "docs/post/20251031.html", "labels": ["\u79d1\u7814"], "postTitle": "20251031", "postUrl": "post/20251031.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/16", "commentNum": 0, "wordCount": 2082, "description": "# inami \u751f\u62103D\u5750\u6807\uff0c\u521b\u5efalmbd\u6570\u636e\u5e93\n\n```shell\npython inami_sdf2lmddb_slow.py \\\n--sdf_path /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unimol/data/inami/Enamine_screening_collection_202508.sdf \\\n--lmdb_path /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unimol/data/inami/Enamine_screening_collection_202508.lmdb \\\n--map_size_gb 64 \\\n--batch_commit 2000\n```\n# split\u7684\u65b9\u6cd5\npython inami_sdf2lmdb_quick.py\\\n--sdf_path /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unimol/data/inami/Enamine_screening_collection_202508.sdf \\\n--lmdb_path /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unimol/data/inami_quickly/Enamine_screening_collection_202508.lmdb \\\n--map_size_gb 64 \\\n--batch_commit 2000\\\n--num_workers 24\\\n--timeout_seconds 30\n# \u76f4\u63a5\u8c03\u7528\u7684\n\n# inami \u6570\u636e\u5e93\u7279\u5f81\u63cf\u8ff0\n\n```shell\npython -u unimol/test.py\\\n--user-dir ./unimol ./data\\\n--valid-subset tese\\\n--result-path ./test\\\n--num-workers 24\\\n--task drugclip\\\n--lose in batch_softmax --arch drugclip\\\n--fp16 --fp16-init-scale 4\\\n--fp16-scale-window 256\\\n--seed 1\\\n--patch checkpoint_best.pt\\\n--log-interval 100 --log-format simple --max-pocket-atoms 511\\\n--test-task extract_feats\\\n--mol_data_path \n```\n```shell\npython -u unimol/test.py --user-dir ./unimol ./data \\\n--valid-subset test --results-path ./test --num-workers 8 --ddp-backend c10d --batch-size 8 --task drugclip --loss in_batch_softmax\\\n--arch drugclip --fp16 --fp16-init-scale 4 --fp16-scale-window 256 --seed 1\\\n--path checkpoint_best.pt\\\n--log-interval 100 --log-format simple --max-pocket-atoms 511\\\n--test-task extract_feats\\\n--mol_data_path /vepfs-mlp2/mlp-public/shikunfeng/Project/DrugCLIP/data/inami/Enamine_202508_3d.lmdb\\\n--save_dir /vepfs-mlp2/mlp-public/shikunfeng/Project/DrugCLIP/data/inami/mol_feats\n```\n# lmdb\u5408\u5e76\n```shell\npython /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unimol/data/inami/inami_sdf2lmdb_split4.py \\\n--input_dir /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unimol/data/inami/inami_split \\\n--output_dir /home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unimol/data/inami/inami_lmdb \\\n--output_name final_merged20251103.lmdb \\\n--map_size_gb 200\n```\u3002", "top": 0, "createdAt": 1761896936, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-10-31", "dateLabelColor": "#0969da"}, "P17": {"htmlDir": "docs/post/20251101 getitem -fang-fa-shi-yong.html", "labels": ["python"], "postTitle": "20251101 getitem \u65b9\u6cd5\u4f7f\u7528", "postUrl": "post/20251101%20getitem%20-fang-fa-shi-yong.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/17", "commentNum": 0, "wordCount": 743, "description": "# python \u7c7b\u4e2d\u7684\u7279\u6b8a\u65b9\u6cd5\n\n## __ini__ \u65b9\u6cd5\n\n## __getitem__\u65b9\u6cd5\n- \u4f5c\u7528\uff1a \u7c7b\u5bf9\u8c61\u53ef\u4ee5\u50cf\u5b57\u5178\u5bf9\u8c61\u4e00\u6837\u53d6\u503c\uff08dict['key']\uff09\n- \u7528\u6cd5\uff1aobject['key'] \n  - \u7cfb\u7edf\u4f1a\u81ea\u52a8\u8c03\u7528getitem\u65b9\u6cd5\uff0c\u8fd4\u56dereturn \u503c\uff1b\n  - \u4e0d\u5b58\u5728\u503c\uff0c\u629b\u51fa\u5f02\u5e38\n  - \u8fd9\u4e2a\u8fc7\u7a0b\u4e2d \u7c7b\u5bf9\u8c61key  \u662f\u5426\u5b58\u5728\uff0c\u90fd\u4f1a\u8c03\u7528__getitem__\u65b9\u6cd5\u8fd4\u56de\u5176\u89c4\u5b9a\u503c\n- \u7f16\u7a0b:\n```python\ntest = {\n    'key1': 'value1',\n    'key2': 'value2',\n    'key3': 'value3',\n    'key4': 'value4'\n}\n \nclass Element:\n    '''\u83b7\u53d6\u5143\u7d20'''\n    def __init__(self):\n        self.data = test\n \n    def __getitem__(self, item):\n        '''\u83b7\u53d6\u5c5e\u6027'''\n        data = self.data.get(item, '')\n        if data:\n            return data\n        raise Exception('\u5173\u952e\u5b57\u4e0d\u5b58\u5728')\n \n \nif __name__ == '__main__':\n    print(Element()['key1'])\n    print(Element()['key0'])\n```\ncomfrom[csdn getitem \u7c7b\u4f7f\u7528\u65b9\u6cd5](https://blog.csdn.net/fz1992092500/article/details/123126524)\u3002", "top": 0, "createdAt": 1761970790, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-11-01", "dateLabelColor": "#0969da"}, "P19": {"htmlDir": "docs/post/20251107.html", "labels": ["python"], "postTitle": "20251107", "postUrl": "post/20251107.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/19", "commentNum": 0, "wordCount": 3564, "description": "# lmdb\u5e93\u4f7f\u7528\n- come from :[(50 \u5c01\u79c1\u4fe1 / 81 \u6761\u6d88\u606f) lmdb \u6570\u636e\u5e93 - \u77e5\u4e4e](https://zhuanlan.zhihu.com/p/70359311)\n- \u5185\u5bb9\uff1a \n\t- \u9501\u6587\u4ef6 `lock.mdb`\n\t- \u6570\u636e\u6587\u4ef6 `data.mdb`\n- \u4f18\u70b9\uff1a\n\t- \u9ad8\u5b58\u53d6\u901f\u5ea6\uff1a\u51cf\u5c11\u4e86\u8bbf\u95ee\u5927\u91cf\u5c0f\u6587\u4ef6\u65f6\u7684IO \u65f6\u95f4\u5f00\u9500\n- \u57fa\u672c\u51fd\u6570\n\n## lmdb \u57fa\u672c\u53c2\u6570\n```python\nenv = lmdb.open() # \u521b\u5efalmdb\u73af\u5883\ntxn = env.begin() # \u5efa\u7acb\u4e8b\u52a1\n\ntxn.put(key,value) # \u8fdb\u884c\u63d2\u5165\u548c\u4fee\u6539\ntxn.delete(key) #\u8fdb\u884c\u5220\u9664\ntxn.get(key) #\u67e5\u8be2\ntxn.cursor() #\u904d\u5386\n\ntxn.commit() #\u63d0\u4ea4\u66f4\u6539\n```\n\n## lmdb \u4fee\u6539\u4efb\u52a1\n```python\nimport lmdb\nenv = lmdb.load(lmdb_path,map_size=100 * 1024 * 1024 * 1024) #\u5bfc\u5165\u6570\u636e\u5e93\n\ntxn = env.begin(write=True) # \u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u5199\u5165\u64cd\u4f5c\ntxn.put(str(1).encode(),'Alice'.encode()) #\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u63d2\u5165\u548c\u4fee\u6539\u64cd\u4f5c\uff0c\u4f20\u5165\u7684\u6570\u636e\u4e3a\u952e\u503c\u5bf9\n#encode() \u6539\u53d8\u53c2\u6570\u5f62\u5f0f\uff0cbytes\uff0c\u540e\u9762\u7528decode\u53ef\u4ee5\u5f97\u5230\u539f\u59cb\u7684\u6570\u636e\ntxn.delete(str(1).encode()) # \u5220\u9664\u64cd\u4f5c\n```\n\n## lmdb \u6570\u636e\u5e93\u904d\u5386\n\n```python\nenv = lmdb.load(lmdb_path,map_size = 100 * 1024 *1024 * 1024)\ntxn = env.begin()\n# \u7d22\u5f15\nprint(txn.get(str(2).encode())) #get(key) \u5355\u6761\u8bb0\u5f55\n# \u904d\u5386\nfor key,value in txn.cursor(): # \u7c7b\u4f3c\u4e8e\u6e38\u6807\uff0c\u6bcf\u8bfb\u53d6\u4e00\u4e2a\uff0c\u5411\u4e0b\u79fb\u52a8\u4e00\u4e2a\n\tprint(key,value)\nenv.close()\n```\n\n```python\nwith env.begin() as txn:\n\tprint(txn.get(str(2).encode()))\n\tfor key,value in txn.cursor():\n\t\tprint(key,value)\n```\n\n```python\nimport lmdb\nenv = lmdb.open('/home/dataset-assist-0/tmp/zsl/Drugclip/DrugCLIP/unimol/data/inami/inami_lmdb/final_merged20251103.lmdb', readonly=True, lock=False)\n# \u521b\u5efa\u4e00\u4e2a\u53ea\u8bfb\u4e8b\u52a1\u6765\u7edf\u8ba1\u6761\u76ee\u6570\n\nwith env.begin() as txn:\n\u00a0 \u00a0 # \u83b7\u53d6\u7edf\u8ba1\u4fe1\u606f\uff0c\u5176\u4e2d\u5305\u542b\u6761\u76ee\u6570\u91cf\n\u00a0 \u00a0 stats = txn.stat()\n\u00a0 \u00a0 print(f'LMDB\u4e2d\u7684\u603b\u6761\u76ee\u6570\u4e3a: {stats['entries']}') \nenv.close()\n```\n\n## demo\n```python\nimport lmdb\nimport os, sys\n\ndef initialize():\n    env = lmdb.open('lmdb_dir')\n    return env\n\ndef insert(env, sid, name):\n    txn = env.begin(write=True)\n    txn.put(str(sid).encode(), name.encode())\n    txn.commit()\n\ndef delete(env, sid):\n    txn = env.begin(write=True)\n    txn.delete(str(sid).encode())\n    txn.commit()\n\ndef update(env, sid, name):\n    txn = env.begin(write=True)\n    txn.put(str(sid).encode(), name.encode())\n    txn.commit()\n\ndef search(env, sid):\n    txn = env.begin()\n    name = txn.get(str(sid).encode())\n    return name\n\ndef display(env):\n    txn = env.begin()\n    cur = txn.cursor()\n    for key, value in cur:\n        print(key, value)\n\n\nenv = initialize()\n\nprint('Insert 3 records.')\ninsert(env, 1, 'Alice')\ninsert(env, 2, 'Bob')\ninsert(env, 3, 'Peter')\ndisplay(env)\n\nprint('Delete the record where sid = 1.')\ndelete(env, 1)\ndisplay(env)\n\nprint('Update the record where sid = 3.')\nupdate(env, 3, 'Mark')\ndisplay(env)\n\nprint('Get the name of student whose sid = 3.')\nname = search(env, 3)\nprint(name)\n\n# \u6700\u540e\u9700\u8981\u5173\u95ed\u5173\u95edlmdb\u6570\u636e\u5e93\nenv.close()\n\n# \u6267\u884c\u7cfb\u7edf\u547d\u4ee4\nos.system('rm -r lmdb_dir')\n```\n\n## \u56fe\u50cf\u6df1\u5ea6\u5b66\u4e60\u8bad\u7ec3\n\u5c06\u5927\u91cf\u7684\u539f\u59cb\u6570\u636e\u96c6\u8f6c\u5316\u4e3almdb\u683c\u5f0f\u65b9\u4fbf\u540e\u9762\u8bad\u7ec3\n```python\nimport lmdb\n\nimage_path = './cat.jpg'\nlabel = 'cat'\n\nenv = lmdb.open('lmdb_dir')\ncache = {}  # \u5b58\u50a8\u952e\u503c\u5bf9\n\nwith open(image_path, 'rb') as f:\n    # \u8bfb\u53d6\u56fe\u50cf\u6587\u4ef6\u7684\u4e8c\u8fdb\u5236\u683c\u5f0f\u6570\u636e\n    image_bin = f.read()\n\n# \u7528\u4e24\u4e2a\u952e\u503c\u5bf9\u8868\u793a\u4e00\u4e2a\u6570\u636e\u6837\u672c\ncache['image_000'] = image_bin\ncache['label_000'] = label\n\nwith env.begin(write=True) as txn:\n    for k, v in cache.items():\n        if isinstance(v, bytes):\n            # \u56fe\u7247\u7c7b\u578b\u4e3abytes\n            txn.put(k.encode(), v)\n        else:\n            # \u6807\u7b7e\u7c7b\u578b\u4e3astr, \u8f6c\u4e3abytes\n            txn.put(k.encode(), v.encode())  # \u7f16\u7801\n\nenv.close()\n```\n\n\u8bfb\u53d6\u56fe\u7247\u7684\u6570\u636e\n```python\nimport cv2\nimport lmdb\nimport numpy as np\n\nenv = lmdb.open('lmdb_dir')\n\nwith env.begin(write=False) as txn:\n    # \u83b7\u53d6\u56fe\u50cf\u6570\u636e\n    image_bin = txn.get('image_000'.encode())\n    label = txn.get('label_000'.encode()).decode()  # \u89e3\u7801\n\n    # \u5c06\u4e8c\u8fdb\u5236\u6587\u4ef6\u8f6c\u4e3a\u5341\u8fdb\u5236\u6587\u4ef6\uff08\u4e00\u7ef4\u6570\u7ec4\uff09\n    image_buf = np.frombuffer(image_bin, dtype=np.uint8)\n    # \u5c06\u6570\u636e\u8f6c\u6362(\u89e3\u7801)\u6210\u56fe\u50cf\u683c\u5f0f\n    # cv2.IMREAD_GRAYSCALE\u4e3a\u7070\u5ea6\u56fe\uff0ccv2.IMREAD_COLOR\u4e3a\u5f69\u8272\u56fe\n    img = cv2.imdecode(image_buf, cv2.IMREAD_COLOR)\n    cv2.imshow('image', img)\n    cv2.waitKey(0)\n```\n\u3002", "top": 0, "createdAt": 1762455722, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-11-07", "dateLabelColor": "#0969da"}, "P20": {"htmlDir": "docs/post/20251110 vasp -cao-zuo.html", "labels": ["vasp"], "postTitle": "20251110 vasp \u64cd\u4f5c", "postUrl": "post/20251110%20vasp%20-cao-zuo.html", "postSourceUrl": "https://github.com/blackcatontree/zhoushilei.github.io/issues/20", "commentNum": 0, "wordCount": 3800, "description": "## vaspkit\u7684\u7f16\u8bd1\n1. \u6559\u7a0b\uff1a[vaspkit\u7f16\u8bd1](https://zhuanlan.zhihu.com/p/680752546)\n2. \u6dfb\u52a0\u5230bashrc\n```shell\n# \u6dfb\u52a0\u5230 ~/.bashrc\necho 'export PATH=$PATH:/home/dataset-assist-0/tmp/zsl/DFT/vaspkit.1.5.1/bin' >> ~/.bashrc\nsource ~/.bashrc\n```\n3. \u4fdd\u5b58\u955c\u50cf\n\n4. \u9a8c\u8bc1\n\n```shell\nwhich vaspkit\nvaspkit --version\n```\n## vaspkit \u56fa\u5b9a\u539f\u5b50\uff08\u6309\u7167\u9ad8\u5ea6\u56fa\u5b9a\uff09\n1. \u6559\u7a0b\uff1ahttps://zhuanlan.zhihu.com/p/687033002\n\n## \u7ed3\u6784\u4f18\u5316\u6587\u4ef6\u8bbe\u7f6e\n1. KPOINTS\n\n```shell\nKPOINTS\nKPOINTS\n0\nGamma\n3 3 1\n0 0 0\n```\n2. POSTAR\n```shell\nSYSTEM = CoSe2 slab relax\n# \u2014\u2014 \u7cbe\u5ea6 \u2014\u2014\nENCUT  = 520\nPREC   = Normal\nEDIFF  = 1E-5\n# \u53ef\u8003\u8651\u7a0d\u4e25\u683c\u7684\u529b\u6536\u655b\uff08\u5bf9\u8868\u9762\u7814\u7a76\uff09\nEDIFFG = -0.01  # \u4ece-0.02\u63d0\u9ad8\u5230-0.01 eV/\u00c5\n\n# \u2014\u2014 \u91d1\u5c5e\u6027/\u5c55\u5bbd \u2014\u2014\nISMEAR = 0\nSIGMA  = 0.05\n\n# \u2014\u2014 \u81ea\u65cb\uff08CoSe2 \u8868\u9762\u5efa\u8bae\u5f00\u81ea\u65cb\uff09 \u2014\u2014\nISPIN  = 2\nMAGMOM = 72*2.5 144*0.1    # 72 \u4e2a Co \u7ed9 2.0 \u03bcB \u521d\u59cb\uff0cSe \u7ed9 0\n\n# \u5982\u679c\u6587\u732e\u8868\u660eCoSe\u2082\u9700\u8981+U\uff0c\u5efa\u8bae\u73b0\u5728\u5c31\u52a0\u4e0a\uff1a\nLDAU = .TRUE.\nLDAUTYPE = 2\nLDAUL = 2 -1     # Co-d, Se-p\nLDAUU = 4.0 0.0  # U\u503c\u9700\u6839\u636e\u6587\u732e\u8c03\u6574\nLDAUJ = 0.0 0.0\n\n# \u2014\u2014 \u51e0\u4f55\u4f18\u5316\u4e0e\u7b97\u6cd5 \u2014\u2014\nIBRION = 2\nNSW    = 150\nISIF   = 2\nALGO   = Normal\nLASPH  = .TRUE. # \u7cbe\u5ea6\u9879\nLREAL  = .TRUE.\nISYM   = 0\n\n# \u2014\u2014 \u8272\u6563 & \u5076\u6781\u4fee\u6b63 \u2014\u2014\nIVDW   = 12\nLDIPOL = .TRUE.\nIDIPOL = 3\nLASPH  = .TRUE. \nKPAR   = 1           # = \u4f60\u7528\u7684 GPU \u5f20\u6570\uff08\u4e24\u5f20\u5c31\u5199 2\uff09\nNBANDS = 1000 \u5206\u914d\u5bb9\u6613\u663e\u5b58\u7206\u70b8\nNELM = 120 # \u7535\u5b50\u6b65\u4e0a\u9650\uff0c\u7a33\u4e00\u4e0b\n```\n3. \u8d5d\u52bf\u6587\u4ef6potcar\u5f62\u6210\n\uff081\uff09\u4e0b\u8f7d\u8d5d\u52bf\u6587\u4ef6   https://www.bilibili.com/opus/792602409042968599\n\uff082\uff09\u5236\u4f5cPOTCAR\uff1aPOTCAR \u6587\u4ef6\u65f6\u628a\u5404\u4e2a\u5143\u7d20\u7684\u52bf\u6587\u4ef6\u6309\u7167POSCAR \u7684\u5143\u7d20\u987a\u5e8f\u62fc\u63a5\u8d77\u6765\n```shell\n# \u5047\u8bbe\u4f60\u7684\u5e93\u6839\u5728 $VASP_PP_PATH\uff0c\u4f18\u5148\u7528 Co_pv\uff0c\u5176\u6b21 Co\uff1bSe \u7528 Se\n[ -f '$VASP_PP_PATH/Co_pv/POTCAR' ] && CO_DIR='$VASP_PP_PATH/Co_pv' || CO_DIR='$VASP_PP_PATH/Co'\nSE_DIR='$VASP_PP_PATH/Se'\n\ncat '$CO_DIR/POTCAR' > POTCAR\ncat '$SE_DIR/POTCAR' >> POTCAR\n\n# \u5feb\u901f\u6838\u5bf9\ngrep TITEL POTCAR        # \u5e94\u663e\u793a\u5148 Co... \u518d Se...\n\n```\n```shell\ncd /home/dataset-assist-0/tmp/zsl/DFT/cry_surface/c4_100\nexport VASP_PP_PATH='/home/dataset-assist-0/tmp/zsl/DFT/PAW_PBE'\n\n[ -f '$VASP_PP_PATH/Co_pv/POTCAR' ] && CO_DIR='$VASP_PP_PATH/Co_pv' || CO_DIR='$VASP_PP_PATH/Co'\nSE_DIR='$VASP_PP_PATH/Se'\n\ncat '$CO_DIR/POTCAR' > POTCAR\ncat '$SE_DIR/POTCAR' >> POTCAR\n\ngrep TITEL POTCAR\n\n```\n## \u8fd0\u884c\u8ba1\u7b97\n### \u6ca1\u6709\u663e\u5361\u7684\u65b9\u5f0f\n1. \u67e5\u770b\u663e\u5361\u662f\u5426\u5728\u4f7f\u7528\uff1a\n```shell\nnvidia-smi\nnvidia-smi --query-compute-apps=pid,process_name,used_memory --format=csv,noheader,nounits\n```\n2. \u67e5\u770b\u6709\u6ca1\u6709cpu\u5728\u4f7f\u7528\n```shell\n# \u67e5\u770bVASP\u8fdb\u7a0b\nps aux | grep vasp\ntop -u $USER\n```\n3. \u5b9e\u9645\u7684\u8ba1\u7b97\u8fc7\u7a0b\n```shell\n# \u8bbe\u7f6e\u73af\u5883\nulimit -s unlimited\nexport OMP_NUM_THREADS=1\n\n# \u65b9\u5f0f1\uff1a\u524d\u53f0\u8fd0\u884c\uff0c\u5b9e\u65f6\u770b\u5230\u8f93\u51fa\nmpirun -np 16 vasp_std |& tee -a relax.out\n\n# \u65b9\u5f0f2\uff1a\u540e\u53f0\u8fd0\u884c\uff0c\u8f93\u51fa\u5230\u6587\u4ef6\nnohup mpirun -np 16 vasp_std >> relax.out 2>&1 &\n```\n4. \u591a\u8282\u70b9\u7684CPU\u8fd0\u884c\n```shell\n# \u4f7f\u7528\u4f5c\u4e1a\u8c03\u5ea6\u7cfb\u7edf\uff08SLURM\uff09\nsbatch job_script.slurm\n\n# job_script.slurm \u5185\u5bb9\u793a\u4f8b\uff1a\n#!/bin/bash\n#SBATCH -N 2           # 2\u4e2a\u8282\u70b9\n#SBATCH --ntasks-per-node=16  # \u6bcf\u4e2a\u8282\u70b916\u8fdb\u7a0b\n#SBATCH -p compute     # \u8ba1\u7b97\u961f\u5217\n\nmpirun vasp_std\n```\n\n### \u6709\u663e\u5361\u7684\u65b9\u5f0f\n1. \u67e5\u770b\u663e\u5361\u662f\u5426\u5728\u4f7f\u7528\n2. \u5224\u65ad\u4f7f\u7528\u51e0\u4e2a\u5361\uff1a\n**(1)\u4e00\u4e2a\u673a\u5668\u4e00\u4e2a\u5361**\uff1a`mpirun -np 1 -mca coll ^hcoll vasp_std |& tee -a relax.out` \uff1b\u8868\u793a\u8fdb\u7a0b\u6570\u91cf\u4e3a1\uff0c\u517c\u5bb9\u6027\u8fdb\u884cGPU\u8ba1\u7b97\uff0c\u91c7\u7528vasp_std \u8fdb\u884c\u8ba1\u7b97\uff0c\u6700\u540e\u8fdb\u884c\u9519\u8bef\u548c\u8f93\u51fa\u7684\u91cd\u5b9a\u578b\u548c\u6253\u5370\u3002", "top": 0, "createdAt": 1762710505, "style": "", "script": "", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "createdDate": "2025-11-10", "dateLabelColor": "#0969da"}}, "singeListJson": {}, "labelColorDict": {"bash": "#aaaaaa", "bug": "#d73a4a", "class": "#1a8a99", "documentation": "#0075ca", "duplicate": "#cfd3d7", "enhancement": "#a2eeef", "good first issue": "#7057ff", "help wanted": "#008672", "invalid": "#e4e669", "linux": "#a92923", "python": "#aaaaaa", "question": "#d876e3", "vasp": "#64f567", "windows": "#aaaaaa", "wontfix": "#ffffff", "\u73af\u5883\u642d\u5efa": "#aaaaaa", "\u79d1\u7814": "#aaaaaa", "\u91cd\u8981\u4e8b\u4ef6": "#aaaaaa", "\u95f2\u8c08": "#7ec353"}, "displayTitle": "\u5468\u4ed5\u78ca\u7684\u535a\u5ba2", "faviconUrl": "https://avatars.githubusercontent.com/u/114755056?v=4", "ogImage": "https://avatars.githubusercontent.com/u/114755056?v=4", "primerCSS": "<link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />", "homeUrl": "https://blackcatontree.github.io/zhoushilei.github.io", "prevUrl": "/index.html", "nextUrl": "disabled"}